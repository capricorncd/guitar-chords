var W=l=>{throw TypeError(l)};var b=(l,t,e)=>t.has(l)||W("Cannot "+e);var r=(l,t,e)=>(b(l,t,"read from private field"),e?e.call(l):t.get(l)),p=(l,t,e)=>t.has(l)?W("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(l):t.set(l,e),w=(l,t,e,n)=>(b(l,t,"write to private field"),n?n.call(l,e):t.set(l,e),e),y=(l,t,e)=>(b(l,t,"access private method"),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const g of s.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&n(g)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();const N={name:"",spacing:10,lineWidth:4,lineSpacing:{x:30,y:50},color:"#000",stringCount:6,fingerRadius:15,startFrets:0,matrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],devicePixelRatio:window.devicePixelRatio||1};var a,u,x,h,m,F,O,T,v;class f{constructor(t={}){p(this,m);p(this,a);p(this,u);p(this,x);p(this,h);w(this,a,{...N,...t});const{lineSpacing:e}=r(this,a);w(this,u,document.createElement("canvas")),w(this,x,r(this,u).getContext("2d")),w(this,h,e.y)}get element(){return r(this,u)}get width(){const{stringCount:t,lineSpacing:e,lineWidth:n}=r(this,a);return e.x*(t+1)+n*t}get height(){const{lineSpacing:t,lineWidth:e,matrix:n,spacing:i}=r(this,a);return t.y*n.length+e*(n.length+1)+r(this,h)+i}get gridSize(){const{lineSpacing:t,lineWidth:e,stringCount:n,matrix:i,spacing:s}=r(this,a);return{width:t.x*(n-1)+e*n,height:t.y*i.length+e*(i.length+1),left:t.x,top:r(this,h)+s,right:this.width-t.x,bottom:this.height}}get info(){return{}}draw(){r(this,u).setAttribute("width",this.width.toString()),r(this,u).setAttribute("height",this.height.toString());const{startFrets:t,matrix:e}=r(this,a);return y(this,m,v).call(this),y(this,m,T).call(this,t),y(this,m,O).call(this,e),y(this,m,F).call(this),this}}a=new WeakMap,u=new WeakMap,x=new WeakMap,h=new WeakMap,m=new WeakSet,F=function(){const{name:t,color:e}=r(this,a),n=r(this,x);n.fillStyle=e,n.font=`${r(this,h)}px Arial`,n.textAlign="center",n.textBaseline="middle",n.fillText(t,this.width/2,r(this,h)/2)},O=function(t){const{lineSpacing:e,color:n,lineWidth:i,fingerRadius:s,spacing:g}=r(this,a),o=r(this,x);o.fillStyle=n;const P=s*1.5;let c=0;for(let d=0;d<t.length;d++)for(let S=0;S<t[d].length;S++)if(c=t[d][S],c>0){const A=S*(e.x+i)+i/2+e.x,C=(d+.5)*(e.y+i)+i/2+r(this,h)+g;o.fillStyle=n,o.beginPath(),o.arc(A,C,s,0,Math.PI*2),o.fill(),o.fillStyle="#ffffff",o.font=`${P}px Arial`,o.textAlign="center",o.textBaseline="middle",o.fillText(c.toString(),A,C+i/2)}},T=function(t){if(!t)return;const{color:e,lineWidth:n,lineSpacing:i}=r(this,a),s=r(this,x),g=r(this,h)/2;s.fillStyle=e,s.font=`italic ${g}px Arial`,s.textAlign="left",s.textBaseline="middle",s.fillText(t.toString(),0,this.gridSize.top+i.y/2+n*1.5)},v=function(){const{matrix:t,lineWidth:e,lineSpacing:n,color:i,stringCount:s,spacing:g}=r(this,a),o=r(this,x),P=t.length;for(let c=0;c<s;c++){const d=c*(n.x+e)+e/2+n.x;o.beginPath(),o.moveTo(d,r(this,h)+g),o.lineTo(d,this.height),o.strokeStyle=i,o.lineWidth=e,o.stroke()}for(let c=0;c<=P;c++){const d=c*(n.y+e)+e/2+r(this,h)+g;o.beginPath(),o.moveTo(n.x,d),o.lineTo(this.width-n.x,d),o.strokeStyle=i,o.lineWidth=e,o.stroke()}};const z=document.getElementById("app");z.append(new f({name:"C",matrix:[[0,0,0,0,1,0],[0,0,2,0,0,0],[3,4,0,0,0,0]]}).draw().element,new f({name:"Dm",matrix:[[0,0,0,0,0,1],[0,0,0,2,0,0],[0,0,0,0,3,0]]}).draw().element,new f({name:"Em",matrix:[[0,0,0,0,0,0],[0,2,3,0,0,0],[0,0,0,0,0,0]]}).draw().element,new f({name:"F",matrix:[[1,1,0,0,0,1],[0,0,0,2,0,0],[0,3,4,0,0,0]]}).draw().element,new f({name:"G",matrix:[[0,0,0,0,0,0],[0,2,0,0,0,0],[3,0,0,0,0,4]]}).draw().element,new f({name:"Am",matrix:[[0,0,0,0,1,0],[0,0,2,3,0,0],[0,0,0,0,0,0]]}).draw().element,new f({name:"G7",matrix:[[0,0,0,0,0,1],[0,2,0,0,0,0],[3,0,0,0,0,0]]}).draw().element,new f({name:"C3",startFrets:3,matrix:[[1,1,0,0,0,1],[0,0,0,0,0,0],[0,0,2,3,4,0]]}).draw().element);
