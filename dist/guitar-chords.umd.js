(function(e,h){typeof exports=="object"&&typeof module<"u"?h(exports):typeof define=="function"&&define.amd?define(["exports"],h):(e=typeof globalThis<"u"?globalThis:e||self,h(e.GuitarChords={}))})(this,function(e){"use strict";var A=e=>{throw TypeError(e)};var C=(e,h,c)=>h.has(e)||A("Cannot "+c);var t=(e,h,c)=>(C(e,h,"read from private field"),c?c.call(e):h.get(e)),m=(e,h,c)=>h.has(e)?A("Cannot add the same private member more than once"):h instanceof WeakSet?h.add(e):h.set(e,c),y=(e,h,c,l)=>(C(e,h,"write to private field"),l?l.call(e,c):h.set(e,c),c),w=(e,h,c)=>(C(e,h,"access private method"),c);var l,u,S,g,x,v,z,F,k;const h={name:"",spacing:10,lineWidth:4,lineSpacing:{x:30,y:50},color:"#000",stringCount:6,fingerRadius:15,startFrets:0,matrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],devicePixelRatio:window.devicePixelRatio||1};class c{constructor(n={}){m(this,x);m(this,l);m(this,u);m(this,S);m(this,g);y(this,l,{...h,...n});const{lineSpacing:i}=t(this,l);y(this,u,document.createElement("canvas")),y(this,S,t(this,u).getContext("2d")),y(this,g,i.y)}get element(){return t(this,u)}get width(){const{stringCount:n,lineSpacing:i,lineWidth:s}=t(this,l);return i.x*(n+1)+s*n}get height(){const{lineSpacing:n,lineWidth:i,matrix:s,spacing:r}=t(this,l);return n.y*s.length+i*(s.length+1)+t(this,g)+r}get gridSize(){const{lineSpacing:n,lineWidth:i,stringCount:s,matrix:r,spacing:d}=t(this,l);return{width:n.x*(s-1)+i*s,height:n.y*r.length+i*(r.length+1),left:n.x,top:t(this,g)+d,right:this.width-n.x,bottom:this.height}}get info(){return{}}draw(){t(this,u).setAttribute("width",this.width.toString()),t(this,u).setAttribute("height",this.height.toString());const{startFrets:n,matrix:i}=t(this,l);return w(this,x,k).call(this),w(this,x,F).call(this,n),w(this,x,z).call(this,i),w(this,x,v).call(this),this}}l=new WeakMap,u=new WeakMap,S=new WeakMap,g=new WeakMap,x=new WeakSet,v=function(){const{name:n,color:i}=t(this,l),s=t(this,S);s.fillStyle=i,s.font=`${t(this,g)}px Arial`,s.textAlign="center",s.textBaseline="middle",s.fillText(n,this.width/2,t(this,g)/2)},z=function(n){const{lineSpacing:i,color:s,lineWidth:r,fingerRadius:d,spacing:p}=t(this,l),o=t(this,S);o.fillStyle=s;const T=d*1.5;let a=0;for(let f=0;f<n.length;f++)for(let b=0;b<n[f].length;b++)if(a=n[f][b],a>0){const P=b*(i.x+r)+r/2+i.x,W=(f+.5)*(i.y+r)+r/2+t(this,g)+p;o.fillStyle=s,o.beginPath(),o.arc(P,W,d,0,Math.PI*2),o.fill(),o.fillStyle="#ffffff",o.font=`${T}px Arial`,o.textAlign="center",o.textBaseline="middle",o.fillText(a.toString(),P,W+r/2)}},F=function(n){if(!n)return;const{color:i,lineWidth:s,lineSpacing:r}=t(this,l),d=t(this,S),p=t(this,g)/2;d.fillStyle=i,d.font=`italic ${p}px Arial`,d.textAlign="left",d.textBaseline="middle",d.fillText(n.toString(),0,this.gridSize.top+r.y/2+s*1.5)},k=function(){const{matrix:n,lineWidth:i,lineSpacing:s,color:r,stringCount:d,spacing:p}=t(this,l),o=t(this,S),T=n.length;for(let a=0;a<d;a++){const f=a*(s.x+i)+i/2+s.x;o.beginPath(),o.moveTo(f,t(this,g)+p),o.lineTo(f,this.height),o.strokeStyle=r,o.lineWidth=i,o.stroke()}for(let a=0;a<=T;a++){const f=a*(s.y+i)+i/2+t(this,g)+p;o.beginPath(),o.moveTo(s.x,f),o.lineTo(this.width-s.x,f),o.strokeStyle=r,o.lineWidth=i,o.stroke()}},e.GuitarChords=c,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});
