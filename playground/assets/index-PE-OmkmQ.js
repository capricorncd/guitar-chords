/*!
 * @guitar-chords/demo version 0.0.1
 * Author: undefined
 * Homepage: undefined
 * Released on: 2024-10-27 00:23:55 (GMT+0900)
 */
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function e(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=e(n);fetch(n.href,s)}})();/*!
 * @guitar-chords/canvas version 0.0.5
 * Author: Capricorncd <capricorncd@qq.com>
 * Homepage: https://github.com/capricorncd/guitar-chords#readme
 * Released on: 2024-10-27 00:23:45 (GMT+0900)
 */var ct=i=>{throw TypeError(i)},Q=(i,t,e)=>t.has(i)||ct("Cannot "+e),d=(i,t,e)=>(Q(i,t,"read from private field"),e?e.call(i):t.get(i)),z=(i,t,e)=>t.has(i)?ct("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),I=(i,t,e,r)=>(Q(i,t,"write to private field"),t.set(i,e),e),$=(i,t,e)=>(Q(i,t,"access private method"),e);const ft={autoRender:!0,defaultColor:"#000",defaultLineWidth:4,transpose:0,fontFamily:"Arial",name:"",nameFontSize:50,spacing:10,fretsSpacing:50,stringSpacing:30,stringCount:6,fingerRadius:15,showFingerNumber:!0,fingerNumberTextColor:"#fff",startFrets:0,matrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],mergeFingerCircle:!1,devicePixelRatio:window.devicePixelRatio||1};var k,E,O,p,W,_,Z,tt,et,it,nt,st,B;class V{constructor(t={}){z(this,W),z(this,k),z(this,E),z(this,O),z(this,p),I(this,k,{...ft,...t});const{devicePixelRatio:e,autoRender:r}=d(this,k);I(this,E,document.createElement("canvas")),I(this,O,d(this,E).getContext("2d")),I(this,p,e),r&&$(this,W,_).call(this)}get element(){return d(this,E)}get width(){const{stringCount:t,stringSpacing:e,stringLineWidth:r}=this.data;return(e*(t+1)+r*t)*d(this,p)}get height(){const{nutLineWidth:t,fretsLineWidth:e,fretsSpacing:r,matrix:n,spacing:s,nameFontSize:o}=this.data;return(r*n.length+t+e*n.length+o+s)*d(this,p)}get gridRect(){const{stringLineWidth:t,stringSpacing:e,nutLineWidth:r,fretsSpacing:n,fretsLineWidth:s,stringCount:o,matrix:a,spacing:h,nameFontSize:c}=this.data;return{width:(e*(o-1)+t*o)*d(this,p),height:(n*a.length+r+s*a.length)*d(this,p),left:e*d(this,p),top:(c+h)*d(this,p),right:(this.width-e)*d(this,p),bottom:this.height*d(this,p)}}get data(){const{defaultColor:t,defaultLineWidth:e}=d(this,k),{nameTextColor:r=t,nutLineWidth:n=e,nutColor:s=t,fretsColor:o=t,fretsLineWidth:a=e,stringColor:h=t,stringLineWidth:c=e,fingerCircleColor:b=t,startFretsTextColor:C=t,transposeTextColor:f=r,notesOutsideOfChords:l={},crossLineWidth:L=c,crossLineColor:S=t}=d(this,k);return{...d(this,k),nameTextColor:r,nutLineWidth:n,nutColor:s,fretsColor:o,fretsLineWidth:a,stringColor:h,stringLineWidth:c,fingerCircleColor:b,startFretsTextColor:C,transposeTextColor:f,crossLineWidth:L,crossLineColor:S,notesOutsideOfChords:l}}render(t){return t&&I(this,k,{...d(this,k),...t}),$(this,W,_).call(this),this}}k=new WeakMap,E=new WeakMap,O=new WeakMap,p=new WeakMap,W=new WeakSet,_=function(){const i=this.data,{width:t,height:e}=this;return d(this,E).width=t,d(this,E).height=e,d(this,E).style.width=`${t/d(this,p)}px`,d(this,E).style.height=`${e/d(this,p)}px`,d(this,O).scale(d(this,p),d(this,p)),d(this,O).clearRect(0,0,t,e),$(this,W,it).call(this,i),$(this,W,et).call(this,i),$(this,W,tt).call(this,i),$(this,W,Z).call(this,i),Object.keys(i.notesOutsideOfChords).length>0&&$(this,W,nt).call(this,i),this},Z=function(i){const{name:t,nameTextColor:e,nameFontSize:r,transpose:n,transposeTextColor:s,fontFamily:o}=i,a=d(this,O);a.fillStyle=e,a.font=`${r}px ${o}`,a.textAlign="center",a.textBaseline="middle",a.fillText(t,this.width/(2*d(this,p)),r/2);const h=a.measureText(t);if(n!==0){const c=r/2;a.font=`${c}px ${o}`,a.fillStyle=s,a.textAlign="right",a.fillText(n===1?"♯":"♭",this.width/(2*d(this,p))-h.width/2,c/2)}},tt=function(i){const{stringSpacing:t,fretsSpacing:e,stringLineWidth:r,fretsLineWidth:n,fingerRadius:s,matrix:o,nutLineWidth:a,fingerNumberTextColor:h,fingerCircleColor:c,fontFamily:b,showFingerNumber:C,mergeFingerCircle:f}=i,l=d(this,O);l.fillStyle=c;const L=s*1.5,{top:S}=this.gridRect,u=new Map;let g=0;for(let m=0;m<o.length;m++)for(let x=0;x<o[m].length;x++)if(g=o[m][x],g>0){const F=x*(t+r)+r/2+t,v=S/d(this,p)+a+(e+n)*m+e/2;if(l.fillStyle=c,l.beginPath(),l.arc(F,v,s,0,Math.PI*2),l.fill(),f){u.has(g)||u.set(g,[]);const y=u.get(g);y.push({x:F,y:v}),y.length>1&&x===o[m].lastIndexOf(g)&&(l.beginPath(),l.moveTo(y[0].x,y[0].y),l.lineTo(F,v),l.strokeStyle=c,l.lineWidth=s*2,l.stroke())}if(!C||f&&x!==o[m].lastIndexOf(g))continue;l.fillStyle=h,l.font=`${L}px ${b}`,l.textAlign="center",l.textBaseline="middle";const M=String(g),{actualBoundingBoxAscent:j,actualBoundingBoxDescent:G}=l.measureText(M);l.fillText(M,F,v+Math.abs(j-G)/2)}},et=function(i){const{nutLineWidth:t,fretsSpacing:e,startFrets:r,nameFontSize:n,startFretsTextColor:s,fontFamily:o}=i;if(r<=1)return;const{top:a}=this.gridRect,h=d(this,O),c=n/2;h.fillStyle=s,h.font=`italic ${c}px ${o}`,h.textAlign="left",h.textBaseline="middle",h.fillText(r.toString(),0,a/d(this,p)+t+e/2)},it=function(i){const{matrix:t,nutLineWidth:e,stringLineWidth:r,fretsLineWidth:n,stringSpacing:s,fretsSpacing:o,nutColor:a,stringColor:h,fretsColor:c,stringCount:b,spacing:C,nameFontSize:f}=i,l=d(this,O),L=f+C,S=t.length;for(let u=0;u<b;u++){const g=u*(s+r)+r/2+s;l.beginPath(),l.moveTo(g,L+Math.abs(e-n)),l.lineTo(g,this.height),l.strokeStyle=h,l.lineWidth=r,l.stroke()}for(let u=0;u<=S;u++){const g=u===0?L+e/2:L+e+u*(o+n)-n/2;l.beginPath(),l.moveTo(s,g),l.lineTo(this.width/d(this,p)-s,g),l.strokeStyle=u===0?a:c,l.lineWidth=u===0?e:n,l.stroke()}},nt=function(i){const{stringLineWidth:t,stringSpacing:e,stringCount:r,notesOutsideOfChords:n}=i,s=d(this,O),o=this.gridRect.top/d(this,p);for(let a=0;a<r;a++){if(!n[r-a])continue;const h=$(this,W,st).call(this,i),c=a*(e+t)+t/2+e-h.width/4;s.drawImage(h,c,o-h.height/2,h.width/2,h.height/2)}},st=function(i){const{fingerRadius:t,crossLineColor:e,crossLineWidth:r,devicePixelRatio:n}=i,s=t*2,o=s*n,a=document.createElement("canvas"),h=a.getContext("2d");a.width=a.height=o,h.beginPath();const c=$(this,W,B).call(this,s,-Math.PI/4),b=$(this,W,B).call(this,s,3*Math.PI/4);h.moveTo(c.x*n,c.y*n),h.lineTo(b.x*n,b.y*n);const C=$(this,W,B).call(this,s,Math.PI/4),f=$(this,W,B).call(this,s,-3*Math.PI/4);return h.moveTo(C.x*n,C.y*n),h.lineTo(f.x*n,f.y*n),h.strokeStyle=e,h.lineJoin="round",h.lineWidth=r*n,h.stroke(),a},B=function(i,t){const e=i/2,r=e*Math.cos(t),n=e*Math.sin(t);return{x:r+e,y:n+e}};/*!
 * @guitar-chords/svg version 0.0.3
 * Author: Capricorncd<capricorncd@qq.com>
 * Homepage: https://github.com/capricorncd/guitar-chords
 * Released on: 2024-10-27 00:23:45 (GMT+0900)
 */var dt=i=>{throw TypeError(i)},U=(i,t,e)=>t.has(i)||dt("Cannot "+e),w=(i,t,e)=>(U(i,t,"read from private field"),e?e.call(i):t.get(i)),q=(i,t,e)=>t.has(i)?dt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),H=(i,t,e,r)=>(U(i,t,"write to private field"),t.set(i,e),e),R=(i,t,e)=>(U(i,t,"access private method"),e);const mt={autoRender:!0,defaultColor:"#000",defaultLineWidth:4,transpose:0,name:"",nameFontSize:50,spacing:10,fretsSpacing:50,stringSpacing:30,stringCount:6,fingerRadius:15,fingerNumberTextColor:"#fff",showFingerNumber:!0,startFrets:0,matrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],mergeFingerCircle:!1};var N,A,T,K,rt,ot,J,at,ht,lt;class pt{constructor(t={}){q(this,T),q(this,N),q(this,A),H(this,N,{...mt,...t});const{autoRender:e}=w(this,N);H(this,A,document.createElementNS("http://www.w3.org/2000/svg","svg")),e&&R(this,T,K).call(this)}get element(){return w(this,A)}get width(){const{stringCount:t,stringSpacing:e,stringLineWidth:r}=this.data;return e*(t+1)+r*t}get height(){const{nutLineWidth:t,fretsSpacing:e,fretsLineWidth:r,matrix:n,spacing:s,nameFontSize:o}=this.data;return t+(e+r)*n.length+o+s}get gridRect(){const{nutLineWidth:t,stringSpacing:e,stringLineWidth:r,stringCount:n,matrix:s,spacing:o,fretsSpacing:a,fretsLineWidth:h,nameFontSize:c}=this.data;return{width:e*(n-1)+r*n,height:t+(a+h)*s.length,left:e,top:c+o,right:this.width-e,bottom:this.height}}get data(){const{defaultColor:t,defaultLineWidth:e}=w(this,N),{nameTextColor:r=t,nutLineWidth:n=e,nutColor:s=t,fretsColor:o=t,fretsLineWidth:a=e,stringColor:h=t,stringLineWidth:c=e,fingerCircleColor:b=t,startFretsTextColor:C=t,transposeTextColor:f=r,notesOutsideOfChords:l={},crossLineWidth:L=c,crossLineColor:S=t}=w(this,N);return{...w(this,N),nameTextColor:r,nutLineWidth:n,nutColor:s,fretsColor:o,fretsLineWidth:a,stringColor:h,stringLineWidth:c,fingerCircleColor:b,startFretsTextColor:C,transposeTextColor:f,notesOutsideOfChords:l,crossLineWidth:L,crossLineColor:S}}render(t){return t&&H(this,N,{...w(this,N),...t}),R(this,T,K).call(this),this}}N=new WeakMap,A=new WeakMap,T=new WeakSet,K=function(){const i=this.data,{width:t,height:e}=this;w(this,A).setAttribute("width",`${t}`),w(this,A).setAttribute("height",`${e}`),w(this,A).setAttribute("viewBox",`0 0 ${t} ${e}`),R(this,T,ht).call(this,i),R(this,T,at).call(this,i),R(this,T,ot).call(this,i),R(this,T,rt).call(this,i),Object.keys(i.notesOutsideOfChords).length>0&&R(this,T,lt).call(this,i)},rt=function(i){const{name:t,nameTextColor:e,nameFontSize:r,transposeTextColor:n,transpose:s}=i,o=document.createElementNS("http://www.w3.org/2000/svg","text");if(o.setAttribute("x",`${this.width/2}`),o.setAttribute("y",`${r/2}`),o.setAttribute("fill",e),o.setAttribute("font-size",`${r}`),o.setAttribute("text-anchor","middle"),o.setAttribute("dominant-baseline","middle"),o.textContent=t,w(this,A).appendChild(o),s){const a=document.createElementNS("http://www.w3.org/2000/svg","text"),h=r/2,c=s===1;a.setAttribute("x",`${this.width/2-r*t.length/2}`),a.setAttribute("y",`${h*.5}`),a.setAttribute("fill",n),a.setAttribute("font-size",`${h}`),a.setAttribute("text-anchor",c?"middle":"start"),a.setAttribute("dominant-baseline","middle"),a.textContent=c?"♯":"♭",w(this,A).appendChild(a)}},ot=function(i){const{stringSpacing:t,fingerCircleColor:e,stringLineWidth:r,fingerRadius:n,spacing:s,matrix:o,fretsSpacing:a,fretsLineWidth:h,nameFontSize:c,nutLineWidth:b,fingerNumberTextColor:C,showFingerNumber:f,mergeFingerCircle:l}=i,L=n*1.5,S=new Map;for(let u=0;u<o.length;u++)for(let g=0;g<o[u].length;g++){const m=o[u][g];if(m>0){const x=g*(t+r)+r/2+t,F=(u+.5)*(a+h)+h/2+c+s+b-h;if(l){S.has(m)||S.set(m,[]);const M=S.get(m);if(M.push({x,y:F}),M.length>1&&g===o[u].lastIndexOf(m)){const j=M[0],G={x,y:F},y=document.createElementNS("http://www.w3.org/2000/svg","line");y.setAttribute("x1",`${j.x}`),y.setAttribute("y1",`${j.y}`),y.setAttribute("x2",`${G.x}`),y.setAttribute("y2",`${G.y}`),y.setAttribute("stroke",e),y.setAttribute("stroke-width",`${n*2}`),y.setAttribute("stroke-linecap","round"),w(this,A).appendChild(y),f&&R(this,T,J).call(this,x,F,m,C,L);continue}}const v=document.createElementNS("http://www.w3.org/2000/svg","circle");v.setAttribute("cx",`${x}`),v.setAttribute("cy",`${F}`),v.setAttribute("r",`${n}`),v.setAttribute("fill",e),w(this,A).appendChild(v),f&&(!l||g===o[u].lastIndexOf(m))&&R(this,T,J).call(this,x,F,m,C,L)}}},J=function(i,t,e,r,n){const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("x",`${i}`),s.setAttribute("y",`${t}`),s.setAttribute("fill",r),s.setAttribute("font-size",`${n}`),s.setAttribute("text-anchor","middle"),s.setAttribute("dominant-baseline","central"),s.textContent=e.toString(),w(this,A).appendChild(s)},at=function(i){const{startFretsTextColor:t,startFrets:e,nameFontSize:r,nutLineWidth:n,fretsLineWidth:s,fretsSpacing:o}=i;if(e<=1)return;const a=r/2,h=document.createElementNS("http://www.w3.org/2000/svg","text");h.setAttribute("x","0"),h.setAttribute("y",`${this.gridRect.top+n+o/2+s*2}`),h.setAttribute("fill",t),h.setAttribute("font-size",`${a}`),h.setAttribute("font-style","italic"),h.textContent=e.toString(),w(this,A).appendChild(h)},ht=function(i){const{matrix:t,stringLineWidth:e,stringSpacing:r,stringColor:n,stringCount:s,fretsSpacing:o,fretsLineWidth:a,fretsColor:h,nutLineWidth:c,nutColor:b}=i,C=t.length,{top:f,bottom:l,right:L,left:S}=this.gridRect;for(let u=0;u<s;u++){const g=u*(r+e)+e/2+r,m=document.createElementNS("http://www.w3.org/2000/svg","line");m.setAttribute("x1",`${g}`),m.setAttribute("y1",`${f+c}`),m.setAttribute("x2",`${g}`),m.setAttribute("y2",`${l}`),m.setAttribute("stroke",n),m.setAttribute("stroke-width",`${e}`),w(this,A).appendChild(m)}for(let u=0;u<=C;u++){const g=u===0,m=g?f+c/2:u*(o+a)+f+c-a/2,x=document.createElementNS("http://www.w3.org/2000/svg","line");x.setAttribute("x1",`${S}`),x.setAttribute("y1",`${m}`),x.setAttribute("x2",`${L}`),x.setAttribute("y2",`${m}`),x.setAttribute("stroke",g?b:h),x.setAttribute("stroke-width",`${g?c:a}`),w(this,A).appendChild(x)}},lt=function(i){const{stringLineWidth:t,stringSpacing:e,stringCount:r,notesOutsideOfChords:n,fingerRadius:s,crossLineColor:o,crossLineWidth:a}=i,h=this.gridRect.top;for(let c=0;c<r;c++){if(!n[r-c])continue;const b=c*(e+t)+t/2+e+s/2,C=document.createElementNS("http://www.w3.org/2000/svg","g");C.setAttribute("transform",`translate(${b-s}, ${h-s*1.2})`);const f=document.createElementNS("http://www.w3.org/2000/svg","line");f.setAttribute("x1","0"),f.setAttribute("y1","0"),f.setAttribute("x2",`${s}`),f.setAttribute("y2",`${s}`),f.setAttribute("stroke",o),f.setAttribute("stroke-width",`${a}`),f.setAttribute("stroke-linecap","round"),C.appendChild(f);const l=document.createElementNS("http://www.w3.org/2000/svg","line");l.setAttribute("x1","0"),l.setAttribute("y1",`${s}`),l.setAttribute("x2",`${s}`),l.setAttribute("y2","0"),l.setAttribute("stroke",o),l.setAttribute("stroke-width",`${a}`),l.setAttribute("stroke-linecap","round"),C.appendChild(l),w(this,A).appendChild(C)}};const D=[{name:"Cmaj7",nutLineWidth:10,nameTextColor:"#f30",nutColor:"#f30",fingerCircleColor:"#f30",stringColor:"#078",fretsColor:"#f88",matrix:[[0,0,0,0,1,0],[0,0,2,0,0,0],[3,4,0,0,0,0]]},{name:"Dm",nutLineWidth:10,fingerNumberTextColor:"#f30",matrix:[[0,0,0,0,0,1],[0,0,0,2,0,0],[0,0,0,0,3,0]]},{name:"Em",fretsLineWidth:8,matrix:[[0,0,0,0,0,0],[0,2,3,0,0,0],[0,0,0,0,0,0]]},{name:"F",stringLineWidth:12,fingerCircleColor:"#f30",matrix:[[1,1,0,0,0,1],[0,0,0,2,0,0],[0,3,4,0,0,0]]},{name:"G",matrix:[[0,0,0,0,0,0],[0,2,0,0,0,0],[3,0,0,0,0,4]]},{name:"Am",matrix:[[0,0,0,0,1,0],[0,0,2,3,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},{name:"G7",matrix:[[0,0,0,0,0,1],[0,2,0,0,0,0],[3,0,0,0,0,0]]},{name:"C3",startFrets:3,startFretsTextColor:"#f30",nutLineWidth:10,matrix:[[1,1,0,0,0,1],[0,0,0,0,0,0],[0,0,2,3,4,0]]},{name:"F",transpose:1,startFrets:2,matrix:[[1,1,0,0,0,1],[0,0,0,2,0,0],[0,3,4,0,0,0]]},{name:"Am",transpose:1,transposeTextColor:"#f30",matrix:[[1,1,0,0,0,1],[0,0,0,0,2,0],[0,0,3,4,0,0]]},{name:"C3",startFrets:2,transpose:-1,startFretsTextColor:"#f30",showFingerNumber:!1,mergeFingerCircle:!0,matrix:[[1,1,0,0,0,1],[0,0,0,0,0,0],[0,0,2,3,4,0]]},{name:"C3",startFrets:3,startFretsTextColor:"#f30",nutLineWidth:10,mergeFingerCircle:!0,matrix:[[1,1,0,0,0,1],[0,0,0,0,0,0],[0,0,3,3,3,0]]},{name:"Fmaj7",startFrets:5,startFretsTextColor:"#f30",nutLineWidth:10,mergeFingerCircle:!0,matrix:[[0,0,0,1,1,1],[0,0,2,0,0,0],[0,3,0,0,0,0]]}],P=document.getElementById("app"),ut=document.createElement("h1");ut.textContent="Canvas";P.append(ut);P.append(...D.map(i=>new V(i).element));const X=new V({...D[0],autoRender:!1});console.log(X.data);P.append(X.element);X.render({name:"C",transpose:1,matrix:[[1,1,0,1,1,1],[0,0,0,0,2,0],[0,0,3,0,0,0],[0,4,0,0,0,0]]});const gt=document.createElement("h1");gt.textContent="SVG";P.append(gt);P.append(...D.map(i=>new pt(i).element));const Y=new V({...D[0],autoRender:!1});console.log(Y.data);P.append(Y.element);Y.render({name:"C",transpose:1,matrix:[[1,1,0,1,1,1],[0,0,0,0,2,0],[0,0,3,0,0,0],[0,4,0,0,0,0]]});
