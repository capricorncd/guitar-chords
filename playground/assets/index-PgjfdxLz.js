/*!
 * @guitar-chords/demo version 0.0.1
 * Author: undefined
 * Homepage: undefined
 * Released on: 2024-10-28 21:33:02 (GMT+0900)
 */
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();/*!
 * @guitar-chords/canvas version 0.0.8
 * Author: Capricorncd <capricorncd@qq.com>
 * Homepage: https://github.com/capricorncd/guitar-chords#readme
 * Released on: 2024-10-28 21:32:41 (GMT+0900)
 */var ut=i=>{throw TypeError(i)},Z=(i,t,e)=>t.has(i)||ut("Cannot "+e),g=(i,t,e)=>(Z(i,t,"read from private field"),e?e.call(i):t.get(i)),I=(i,t,e)=>t.has(i)?ut("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),E=(i,t,e,n)=>(Z(i,t,"write to private field"),t.set(i,e),e),T=(i,t,e)=>(Z(i,t,"access private method"),e);const wt={autoRender:!0,defaultColor:"#000",defaultLineWidth:4,transpose:0,fontFamily:"Arial",name:"",nameFontSize:60,spacing:20,fretsSpacing:50,stringSpacing:30,stringCount:6,fingerRadius:15,showFingerNumber:!0,fingerNumberTextColor:"#fff",startFrets:0,matrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],mergeFingerCircle:!1,showNotesOutsideOfChords:!1,devicePixelRatio:window.devicePixelRatio||1};var k,P,b,x,U,$,Q,et,it,nt,st,rt,ot,at,j;class mt{constructor(t){I(this,$),I(this,k),I(this,P),I(this,b),I(this,x),I(this,U,"0.0.8"),E(this,k,{...wt,...t});const{devicePixelRatio:e,autoRender:n}=g(this,k);E(this,P,document.createElement("canvas")),E(this,b,g(this,P).getContext("2d")),E(this,x,e),n&&T(this,$,Q).call(this)}get element(){return g(this,P)}get width(){const{stringCount:t,stringSpacing:e,stringLineWidth:n}=this.data;return(e*(t+1)+n*t)*g(this,x)}get height(){const{nutLineWidth:t,fretsLineWidth:e,fretsSpacing:n,matrix:s,spacing:r,nameFontSize:o}=this.data;return(n*s.length+t+e*s.length+o+r)*g(this,x)}get gridRect(){const{stringLineWidth:t,stringSpacing:e,nutLineWidth:n,fretsSpacing:s,fretsLineWidth:r,stringCount:o,matrix:a,spacing:c,nameFontSize:h}=this.data;return{width:(e*(o-1)+t*o)*g(this,x),height:(s*a.length+n+r*a.length)*g(this,x),left:e*g(this,x),top:(h+c)*g(this,x),right:(this.width-e)*g(this,x),bottom:this.height*g(this,x)}}get version(){return g(this,U)}get data(){const{defaultColor:t,defaultLineWidth:e,fingerRadius:n}=g(this,k),{nameTextColor:s=t,nutLineWidth:r=e,nutColor:o=t,fretsColor:a=t,fretsLineWidth:c=e,stringColor:h=t,stringLineWidth:d=e,fingerCircleColor:u=t,startFretsTextColor:p=t,transposeTextColor:l=s,showNotesOutsideOfChords:W,notesOutsideOfChords:S={},crossLineWidth:f=Math.min(d,c),crossLineColor:m=t,crossRadius:C=n*.75,nameLetterSpacing:w=0}=g(this,k);return{...g(this,k),nameTextColor:s,nutLineWidth:r,nutColor:o,fretsColor:a,fretsLineWidth:c,stringColor:h,stringLineWidth:d,fingerCircleColor:u,startFretsTextColor:p,transposeTextColor:l,notesOutsideOfChords:S,showNotesOutsideOfChords:W||Object.keys(S).length>0,crossLineWidth:f,crossLineColor:m,crossRadius:C,nameLetterSpacing:w}}render(t){return t&&E(this,k,{...g(this,k),...t}),T(this,$,Q).call(this),this}}k=new WeakMap,P=new WeakMap,b=new WeakMap,x=new WeakMap,U=new WeakMap,$=new WeakSet,Q=function(){const i=this.data,{width:t,height:e}=this;return g(this,P).width=t,g(this,P).height=e,g(this,P).style.width=`${t/g(this,x)}px`,g(this,P).style.height=`${e/g(this,x)}px`,g(this,b).scale(g(this,x),g(this,x)),g(this,b).clearRect(0,0,t,e),T(this,$,st).call(this,i),T(this,$,nt).call(this,i),T(this,$,it).call(this,i),T(this,$,et).call(this,i),i.showNotesOutsideOfChords&&T(this,$,rt).call(this,i),this},et=function(i){const{name:t,nameTextColor:e,nameFontSize:n,transpose:s,transposeTextColor:r,fontFamily:o,nameLetterSpacing:a}=i,{width:c}=this.gridRect,h=c/g(this,x),d=g(this,b);d.fillStyle=e,d.font=`${n}px ${o}`,d.textAlign="center",d.textBaseline="middle",d.letterSpacing=`${a}px`,d.fillText(t,this.width/(2*g(this,x)),n/2,h);const u=d.measureText(t);if(d.letterSpacing="0px",s!==0){const p=n/2;d.font=`${p}px ${o}`,d.fillStyle=r,d.textAlign="right",d.fillText(s===1?"♯":"♭",this.width/(2*g(this,x))-Math.min(u.width/2,h/2),p/2)}},it=function(i){const{stringSpacing:t,fretsSpacing:e,stringLineWidth:n,fretsLineWidth:s,fingerRadius:r,matrix:o,nutLineWidth:a,fingerNumberTextColor:c,fingerCircleColor:h,fontFamily:d,showFingerNumber:u,mergeFingerCircle:p}=i,l=g(this,b);l.fillStyle=h;const W=r*1.5,{top:S}=this.gridRect,f=new Map;let m=0;for(let C=0;C<o.length;C++)for(let w=0;w<o[C].length;w++)if(m=o[C][w],m>0){const v=w*(t+n)+n/2+t,N=S/g(this,x)+a+(e+s)*C+e/2;if(l.fillStyle=h,l.beginPath(),l.arc(v,N,r,0,Math.PI*2),l.fill(),p){f.has(m)||f.set(m,[]);const z=f.get(m);z.push({x:v,y:N}),z.length>1&&w===o[C].lastIndexOf(m)&&(l.beginPath(),l.moveTo(z[0].x,z[0].y),l.lineTo(v,N),l.strokeStyle=h,l.lineWidth=r*2,l.stroke())}if(!u||p&&w!==o[C].lastIndexOf(m))continue;l.fillStyle=c,l.font=`${W}px ${d}`,l.textAlign="center",l.textBaseline="middle";const A=String(m),{actualBoundingBoxAscent:D,actualBoundingBoxDescent:G}=l.measureText(A);l.fillText(A,v,N+Math.abs(D-G)/2)}},nt=function(i){const{nutLineWidth:t,fretsSpacing:e,startFrets:n,nameFontSize:s,startFretsTextColor:r,fontFamily:o}=i;if(n<=1)return;const{top:a}=this.gridRect,c=g(this,b),h=s/2;c.fillStyle=r,c.font=`italic ${h}px ${o}`,c.textAlign="left",c.textBaseline="middle",c.fillText(n.toString(),0,a/g(this,x)+t+e/2)},st=function(i){const{matrix:t,nutLineWidth:e,stringLineWidth:n,fretsLineWidth:s,stringSpacing:r,fretsSpacing:o,nutColor:a,stringColor:c,fretsColor:h,stringCount:d,spacing:u,nameFontSize:p}=i,l=g(this,b),W=p+u,S=t.length;for(let f=0;f<d;f++){const m=f*(r+n)+n/2+r;l.beginPath(),l.moveTo(m,W+Math.abs(e-s)),l.lineTo(m,this.height),l.strokeStyle=c,l.lineWidth=n,l.stroke()}for(let f=0;f<=S;f++){const m=f===0?W+e/2:W+e+f*(o+s)-s/2;l.beginPath(),l.moveTo(r,m),l.lineTo(this.width/g(this,x)-r,m),l.strokeStyle=f===0?a:h,l.lineWidth=f===0?e:s,l.stroke()}},rt=function(i){const{stringLineWidth:t,stringSpacing:e,stringCount:n,notesOutsideOfChords:s,devicePixelRatio:r,crossLineColor:o,crossLineWidth:a,crossRadius:c}=i,h=g(this,b),d=this.gridRect.top/r;for(let u=0;u<n;u++){if(!T(this,$,ot).call(this,u,i))continue;const p=u*(e+t)+e+t/2;if(s[n-u]){const l=T(this,$,at).call(this,i),W=l.width/r,S=l.height/r;h.drawImage(l,p-W/2,d-S,W,S)}else h.fillStyle=o,h.beginPath(),h.arc(p,d-c-a/2,c,0,Math.PI*2),h.lineWidth=a,h.strokeStyle=o,h.stroke()}},ot=function(i,t){const{matrix:e}=t;for(let n=0;n<e.length;n++)if(e[n][i]>0)return!1;return!0},at=function(i){const{crossLineColor:t,crossLineWidth:e,crossRadius:n,devicePixelRatio:s}=i,r=n*2*s,o=document.createElement("canvas"),a=o.getContext("2d");o.width=o.height=r,a.beginPath();const c=T(this,$,j).call(this,n,-Math.PI/4,s),h=T(this,$,j).call(this,n,3*Math.PI/4,s);a.moveTo(c.x,c.y),a.lineTo(h.x,h.y);const d=T(this,$,j).call(this,n,Math.PI/4,s),u=T(this,$,j).call(this,n,-3*Math.PI/4,s);return a.moveTo(d.x,d.y),a.lineTo(u.x,u.y),a.strokeStyle=t,a.lineJoin="round",a.lineWidth=e*s,a.stroke(),[c,h,d,u].forEach(({x:p,y:l})=>{a.fillStyle=t,a.beginPath(),a.arc(p,l,e*s/2,0,Math.PI*2),a.fill()}),o},j=function(i,t,e){const n=i*Math.cos(t),s=i*Math.sin(t);return{x:(n+i)*e,y:(s+i)*e}};/*!
 * @guitar-chords/svg version 0.0.6
 * Author: Capricorncd<capricorncd@qq.com>
 * Homepage: https://github.com/capricorncd/guitar-chords
 * Released on: 2024-10-28 21:32:41 (GMT+0900)
 */var pt=i=>{throw TypeError(i)},tt=(i,t,e)=>t.has(i)||pt("Cannot "+e),L=(i,t,e)=>(tt(i,t,"read from private field"),e?e.call(i):t.get(i)),q=(i,t,e)=>t.has(i)?pt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),V=(i,t,e,n)=>(tt(i,t,"write to private field"),t.set(i,e),e),R=(i,t,e)=>(tt(i,t,"access private method"),e);const St={autoRender:!0,defaultColor:"#000",defaultLineWidth:4,transpose:0,name:"",nameFontSize:60,spacing:20,fretsSpacing:50,stringSpacing:30,stringCount:6,fingerRadius:15,fingerNumberTextColor:"#fff",showFingerNumber:!0,startFrets:0,matrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],mergeFingerCircle:!1,showNotesOutsideOfChords:!1},F=(i,t={},e)=>{const n=document.createElementNS("http://www.w3.org/2000/svg",i);for(const[s,r]of Object.entries(t))!r&&r!==0||n.setAttribute(s,String(r));return e&&(n.textContent=String(e)),n};var M,y,X,O,Y,ht,lt,_,ct,dt,gt,ft;class Ct{constructor(t={}){q(this,O),q(this,M),q(this,y),q(this,X,"0.0.6"),V(this,M,{...St,...t});const{autoRender:e}=L(this,M);V(this,y,F("svg")),e&&R(this,O,Y).call(this)}get element(){return L(this,y)}get width(){const{stringCount:t,stringSpacing:e,stringLineWidth:n}=this.data;return e*(t+1)+n*t}get height(){const{nutLineWidth:t,fretsSpacing:e,fretsLineWidth:n,matrix:s,spacing:r,nameFontSize:o}=this.data;return t+(e+n)*s.length+o+r}get gridRect(){const{nutLineWidth:t,stringSpacing:e,stringLineWidth:n,stringCount:s,matrix:r,spacing:o,fretsSpacing:a,fretsLineWidth:c,nameFontSize:h}=this.data;return{width:e*(s-1)+n*s,height:t+(a+c)*r.length,left:e,top:h+o,right:this.width-e,bottom:this.height}}get version(){return L(this,X)}get data(){const{defaultColor:t,defaultLineWidth:e,fingerRadius:n}=L(this,M),{nameTextColor:s=t,nutLineWidth:r=e,nutColor:o=t,fretsColor:a=t,fretsLineWidth:c=e,stringColor:h=t,stringLineWidth:d=e,fingerCircleColor:u=t,startFretsTextColor:p=t,transposeTextColor:l=s,notesOutsideOfChords:W={},showNotesOutsideOfChords:S,crossLineWidth:f=Math.min(d,c),crossLineColor:m=t,crossRadius:C=n*.75,nameLetterSpacing:w=0}=L(this,M);return{...L(this,M),nameTextColor:s,nutLineWidth:r,nutColor:o,fretsColor:a,fretsLineWidth:c,stringColor:h,stringLineWidth:d,fingerCircleColor:u,startFretsTextColor:p,transposeTextColor:l,notesOutsideOfChords:W,showNotesOutsideOfChords:S||Object.keys(W).length>0,crossLineWidth:f,crossLineColor:m,crossRadius:C,nameLetterSpacing:w}}render(t){return t&&V(this,M,{...L(this,M),...t}),L(this,y).innerHTML="",R(this,O,Y).call(this),this}}M=new WeakMap,y=new WeakMap,X=new WeakMap,O=new WeakSet,Y=function(){const i=this.data,{width:t,height:e}=this;L(this,y).setAttribute("width",`${t}`),L(this,y).setAttribute("height",`${e}`),L(this,y).setAttribute("viewBox",`0 0 ${t} ${e}`),R(this,O,dt).call(this,i),R(this,O,ct).call(this,i),R(this,O,lt).call(this,i),R(this,O,ht).call(this,i),i.showNotesOutsideOfChords&&R(this,O,gt).call(this,i)},ht=function(i){const{name:t,nameTextColor:e,nameFontSize:n,transposeTextColor:s,transpose:r,nameLetterSpacing:o}=i,a=!!r,c=n/2,h=F("text",{x:this.width/2-(a?c/2:0),y:n/2+c*.2,fill:e,"font-size":n,"text-anchor":"middle","dominant-baseline":"middle"});L(this,y).appendChild(h),a&&h.append(F("tspan",{fill:s,style:`font-size: ${c}px;`,"alignment-baseline":"middle","baseline-shift":"super"},r===1?"♯":"♭"));const d=F("tspan",{style:`letter-spacing:${o}px;`,"alignment-baseline":"middle"},t);h.append(d),setTimeout(()=>{const u=this.gridRect.width,{width:p}=d.getBBox();p>u&&(d.setAttribute("textLength",String(u)),d.setAttribute("lengthAdjust","spacingAndGlyphs"))},0)},lt=function(i){const{stringSpacing:t,fingerCircleColor:e,stringLineWidth:n,fingerRadius:s,spacing:r,matrix:o,fretsSpacing:a,fretsLineWidth:c,nameFontSize:h,nutLineWidth:d,fingerNumberTextColor:u,showFingerNumber:p,mergeFingerCircle:l}=i,W=s*1.5,S=new Map;for(let f=0;f<o.length;f++)for(let m=0;m<o[f].length;m++){const C=o[f][m];if(C>0){const w=m*(t+n)+n/2+t,v=(f+.5)*(a+c)+c/2+h+r+d-c;if(l){S.has(C)||S.set(C,[]);const A=S.get(C);if(A.push({x:w,y:v}),A.length>1&&m===o[f].lastIndexOf(C)){const D=A[0],G={x:w,y:v},z=F("line",{x1:`${D.x}`,y1:`${D.y}`,x2:`${G.x}`,y2:`${G.y}`,stroke:e,"stroke-width":`${s*2}`,"stroke-linecap":"round"});L(this,y).appendChild(z),p&&R(this,O,_).call(this,w,v,C,u,W);continue}}const N=F("circle",{cx:`${w}`,cy:`${v}`,r:`${s}`,fill:e});L(this,y).appendChild(N),p&&(!l||m===o[f].lastIndexOf(C))&&R(this,O,_).call(this,w,v,C,u,W)}}},_=function(i,t,e,n,s){const r=F("text",{x:`${i}`,y:`${t}`,fill:n,"font-size":`${s}`,"text-anchor":"middle","dominant-baseline":"central"},e);L(this,y).appendChild(r)},ct=function(i){const{startFretsTextColor:t,startFrets:e,nameFontSize:n,nutLineWidth:s,fretsLineWidth:r,fretsSpacing:o}=i;if(e<=1)return;const a=n/2,c=F("text",{x:"0",y:`${this.gridRect.top+s+o/2+r*2}`,fill:t,"font-size":`${a}`,"font-style":"italic"},e);L(this,y).appendChild(c)},dt=function(i){const{matrix:t,stringLineWidth:e,stringSpacing:n,stringColor:s,stringCount:r,fretsSpacing:o,fretsLineWidth:a,fretsColor:c,nutLineWidth:h,nutColor:d}=i,u=t.length,{top:p,bottom:l,right:W,left:S}=this.gridRect;for(let f=0;f<r;f++){const m=f*(n+e)+e/2+n,C=F("line",{x1:`${m}`,y1:`${p+h}`,x2:`${m}`,y2:`${l}`,stroke:s,"stroke-width":`${e}`});L(this,y).appendChild(C)}for(let f=0;f<=u;f++){const m=f===0,C=m?p+h/2:f*(o+a)+p+h-a/2,w=F("line",{x1:`${S}`,y1:`${C}`,x2:`${W}`,y2:`${C}`,stroke:m?d:c,"stroke-width":`${m?h:a}`});L(this,y).appendChild(w)}},gt=function(i){const{stringLineWidth:t,stringSpacing:e,stringCount:n,notesOutsideOfChords:s,crossRadius:r,crossLineColor:o,crossLineWidth:a}=i,c=this.gridRect.top;for(let h=0;h<n;h++){if(!R(this,O,ft).call(this,h,i))continue;const d=h*(e+t)+t/2+e;if(s[n-h]){const u=F("g",{transform:`translate(${d-r}, ${c-r*2}) rotate(45 ${r} ${r})`}),p=F("line",{x1:0,y1:r,x2:r*2,y2:r,stroke:o,"stroke-width":`${a}`,"stroke-linecap":"round"});u.appendChild(p);const l=F("line",{x1:r,y1:0,x2:r,y2:r*2,stroke:o,"stroke-width":`${a}`,"stroke-linecap":"round"});u.appendChild(l),L(this,y).appendChild(u)}else{const u=F("circle",{cx:`${d}`,cy:`${c-r-a/2}`,r:`${r}`,fill:"transparent",stroke:o,"stroke-width":`${a}`});L(this,y).appendChild(u)}}},ft=function(i,t){const{matrix:e}=t;for(let n=0;n<e.length;n++)if(e[n][i]>0)return!1;return!0};const H=[{name:"C",nutLineWidth:10,nameTextColor:"#f30",nutColor:"#f30",fingerCircleColor:"#f30",stringColor:"#078",fretsColor:"#f88",matrix:[[0,0,0,0,1,0],[0,0,2,0,0,0],[3,4,0,0,0,0]]},{name:"Dm",nutLineWidth:10,fingerNumberTextColor:"#f30",matrix:[[0,0,0,0,0,1],[0,0,0,2,0,0],[0,0,0,0,3,0]]},{name:"Em",fretsLineWidth:8,matrix:[[0,0,0,0,0,0],[0,2,3,0,0,0],[0,0,0,0,0,0]]},{name:"F",stringLineWidth:12,fingerCircleColor:"#f30",matrix:[[1,0,0,0,1,1],[0,0,0,2,0,0],[0,3,4,0,0,0]]},{name:"G",matrix:[[0,0,0,0,0,0],[0,2,0,0,0,0],[3,0,0,0,0,4]],showNotesOutsideOfChords:!0},{name:"Am",matrix:[[0,0,0,0,1,0],[0,0,2,3,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},{name:"G7",matrix:[[0,0,0,0,0,1],[0,2,0,0,0,0],[3,0,0,0,0,0]]},{name:"C3",startFrets:3,startFretsTextColor:"#f30",nutLineWidth:10,matrix:[[1,1,0,0,0,1],[0,0,0,0,0,0],[0,0,2,3,4,0]]},{name:"F",transpose:1,startFrets:2,matrix:[[1,1,0,0,0,1],[0,0,0,2,0,0],[0,3,4,0,0,0]]},{name:"Am",transpose:1,transposeTextColor:"#f30",matrix:[[1,1,0,0,0,1],[0,0,0,0,2,0],[0,0,3,4,0,0]]},{name:"C3",startFrets:2,transpose:-1,startFretsTextColor:"#f30",showFingerNumber:!1,mergeFingerCircle:!0,matrix:[[1,1,0,0,0,1],[0,0,0,0,0,0],[0,0,2,3,4,0]]},{name:"C3",startFrets:3,startFretsTextColor:"#f30",nutLineWidth:10,mergeFingerCircle:!0,matrix:[[1,1,0,0,0,1],[0,0,0,0,0,0],[0,0,3,3,3,0]]},{name:"Fmaj7",startFrets:5,startFretsTextColor:"#f30",nutLineWidth:10,mergeFingerCircle:!0,matrix:[[0,0,0,1,1,1],[0,0,2,0,0,0],[0,3,0,0,0,0]]},{name:"Cm7-5",startFrets:3,transpose:1,nutLineWidth:10,mergeFingerCircle:!0,nameLetterSpacing:-5,matrix:[[0,0,0,0,0,0],[0,1,0,2,0,0],[0,0,3,0,4,0]],notesOutsideOfChords:{6:!0}}],xt={name:"C",transpose:1,matrix:[[0,0,0,1,0,1],[0,0,0,0,2,0],[0,0,3,0,0,0],[0,4,0,0,0,0]],notesOutsideOfChords:{6:!0},mergeFingerCircle:!0},B=document.getElementById("app"),K=new mt({...H[0],autoRender:!1});console.log(K.data);const Lt=document.createElement("h1");Lt.textContent="@guitar-chords/canvas "+K.version;B.append(Lt);B.append(...H.map(i=>new mt(i).element));K.render();B.append(K.render(xt).element);const J=new Ct({...H[0],autoRender:!1});console.log(J.data);const Wt=document.createElement("h1");Wt.textContent="@guitar-chords/svg "+J.version;B.append(Wt);B.append(...H.map(i=>new Ct(i).element));J.render();B.append(J.render({...xt,name:"Test"}).element);
