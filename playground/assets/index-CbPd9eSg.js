/*!
 * @guitar-chords/demo version 0.0.1
 * Author: undefined
 * Homepage: undefined
 * Released on: 2024-10-26 12:57:17 (GMT+0900)
 */
var q=r=>{throw TypeError(r)};var M=(r,t,e)=>t.has(r)||q("Cannot "+e);var x=(r,t,e)=>(M(r,t,"read from private field"),e?e.call(r):t.get(r)),k=(r,t,e)=>t.has(r)?q("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),O=(r,t,e,n)=>(M(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),N=(r,t,e)=>(M(r,t,"access private method"),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();/*!
 * @guitar-chords/canvas version 0.0.4
 * Author: Capricorncd <capricorncd@qq.com>
 * Homepage: https://github.com/capricorncd/guitar-chords#readme
 * Released on: 2024-10-26 12:57:13 (GMT+0900)
 */var H=r=>{throw TypeError(r)},D=(r,t,e)=>t.has(r)||H("Cannot "+e),h=(r,t,e)=>(D(r,t,"read from private field"),e?e.call(r):t.get(r)),E=(r,t,e)=>t.has(r)?H("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),P=(r,t,e,n)=>(D(r,t,"write to private field"),t.set(r,e),e),R=(r,t,e)=>(D(r,t,"access private method"),e);const et={autoRender:!0,defaultColor:"#000",defaultLineWidth:4,transpose:0,name:"",nameFontSize:50,spacing:10,fretsSpacing:50,stringSpacing:30,stringCount:6,fingerRadius:15,fingerNumberTextColor:"#fff",startFrets:0,matrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],devicePixelRatio:window.devicePixelRatio||1};var F,v,$,m,z,B,K,V,_,j;class it{constructor(t={}){E(this,z),E(this,F),E(this,v),E(this,$),E(this,m),P(this,F,{...et,...t});const{devicePixelRatio:e,autoRender:n}=h(this,F);P(this,v,document.createElement("canvas")),P(this,$,h(this,v).getContext("2d")),P(this,m,e),n&&R(this,z,B).call(this)}get element(){return h(this,v)}get width(){const{stringCount:t,stringSpacing:e,stringLineWidth:n}=this.data;return(e*(t+1)+n*t)*h(this,m)}get height(){const{nutLineWidth:t,fretsLineWidth:e,fretsSpacing:n,matrix:i,spacing:s,nameFontSize:o}=this.data;return(n*i.length+t+e*i.length+o+s)*h(this,m)}get gridRect(){const{stringLineWidth:t,stringSpacing:e,nutLineWidth:n,fretsSpacing:i,fretsLineWidth:s,stringCount:o,matrix:a,spacing:c,nameFontSize:l}=this.data;return{width:(e*(o-1)+t*o)*h(this,m),height:(i*a.length+n+s*a.length)*h(this,m),left:e*h(this,m),top:(l+c)*h(this,m),right:(this.width-e)*h(this,m),bottom:this.height*h(this,m)}}get data(){const{defaultColor:t,defaultLineWidth:e}=h(this,F),{nameTextColor:n=t,nutLineWidth:i=e,nutColor:s=t,fretsColor:o=t,fretsLineWidth:a=e,stringColor:c=t,stringLineWidth:l=e,fingerCircleColor:p=t,startFretsTextColor:b=t,transposeTextColor:d=n}=h(this,F);return{...h(this,F),nameTextColor:n,nutLineWidth:i,nutColor:s,fretsColor:o,fretsLineWidth:a,stringColor:c,stringLineWidth:l,fingerCircleColor:p,startFretsTextColor:b,transposeTextColor:d}}render(t){return t&&P(this,F,{...h(this,F),...t}),R(this,z,B).call(this),this}}F=new WeakMap,v=new WeakMap,$=new WeakMap,m=new WeakMap,z=new WeakSet,B=function(){const r=this.data,{width:t,height:e}=this;return h(this,v).width=t,h(this,v).height=e,h(this,v).style.width=`${t/h(this,m)}px`,h(this,v).style.height=`${e/h(this,m)}px`,h(this,$).scale(h(this,m),h(this,m)),h(this,$).clearRect(0,0,t,e),R(this,z,j).call(this,r),R(this,z,_).call(this,r),R(this,z,V).call(this,r),R(this,z,K).call(this,r),this},K=function(r){const{name:t,nameTextColor:e,nameFontSize:n,transpose:i,transposeTextColor:s}=r,o=h(this,$);if(o.fillStyle=e,o.font=`${n}px Arial`,o.textAlign="center",o.textBaseline="middle",o.fillText(t,this.width/(2*h(this,m)),n/2),i!==0){o.font=`${n/2}px Arial`,o.fillStyle=s,["C","G","A"].includes(t.substring(0,1))&&(o.textAlign="left");const a=n/2;o.fillText(i===1?"#":"b",this.width/(2*h(this,m))-n*t.length/2,a/2)}},V=function(r){const{stringSpacing:t,fretsSpacing:e,stringLineWidth:n,fretsLineWidth:i,fingerRadius:s,spacing:o,matrix:a,nameFontSize:c,nutLineWidth:l,fingerNumberTextColor:p,fingerCircleColor:b}=r,d=h(this,$);d.fillStyle=b;const g=s*1.5;let A=0;for(let W=0;W<a.length;W++)for(let u=0;u<a[W].length;u++)if(A=a[W][u],A>0){const f=u*(t+n)+n/2+t,T=(W+.5)*(e+i)+i/2+c+o+(l-i);d.fillStyle=b,d.beginPath(),d.arc(f,T,s,0,Math.PI*2),d.fill(),d.fillStyle=p,d.font=`${g}px Arial`,d.textAlign="center",d.textBaseline="middle",d.fillText(A.toString(),f,T+(l>=i?i/2:l/2))}},_=function(r){const{nutLineWidth:t,fretsLineWidth:e,fretsSpacing:n,startFrets:i,nameFontSize:s,startFretsTextColor:o}=r;if(i<=1)return;const a=h(this,$),c=s/2;a.fillStyle=o,a.font=`italic ${c}px Arial`,a.textAlign="left",a.textBaseline="middle",a.fillText(i.toString(),0,this.gridRect.top/h(this,m)+n/2+e*1.5+(t-e))},j=function(r){const{matrix:t,nutLineWidth:e,stringLineWidth:n,fretsLineWidth:i,stringSpacing:s,fretsSpacing:o,nutColor:a,stringColor:c,fretsColor:l,stringCount:p,spacing:b,nameFontSize:d}=r,g=h(this,$),A=t.length;for(let u=0;u<p;u++){const f=u*(s+n)+n/2+s;g.beginPath(),g.moveTo(f,d+b+Math.abs(e-i)),g.lineTo(f,this.height),g.strokeStyle=c,g.lineWidth=n,g.stroke()}const W=e-i;for(let u=0;u<=A;u++){const f=u*(o+i)+i/2+d+b+(u===0?0:W);g.beginPath(),g.moveTo(s,f),g.lineTo(this.width/h(this,m)-s,f),g.strokeStyle=u===0?a:l,g.lineWidth=u===0?e:i,g.stroke()}};const nt={autoRender:!0,defaultColor:"#000",defaultLineWidth:4,transpose:0,name:"",nameFontSize:50,spacing:10,fretsSpacing:50,stringSpacing:30,stringCount:6,fingerRadius:15,fingerNumberTextColor:"#fff",startFrets:0,matrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]]};var y,S,L,I,J,Q,U,X;class rt{constructor(t={}){k(this,L);k(this,y);k(this,S);O(this,y,{...nt,...t});const{autoRender:e}=x(this,y);O(this,S,document.createElementNS("http://www.w3.org/2000/svg","svg")),e&&N(this,L,I).call(this)}get element(){return x(this,S)}get width(){const{stringCount:t,stringSpacing:e,stringLineWidth:n}=this.data;return e*(t+1)+n*t}get height(){const{nutLineWidth:t,fretsSpacing:e,fretsLineWidth:n,matrix:i,spacing:s,nameFontSize:o}=this.data;return t+(e+n)*i.length+o+s}get gridRect(){const{nutLineWidth:t,stringSpacing:e,stringLineWidth:n,stringCount:i,matrix:s,spacing:o,fretsSpacing:a,fretsLineWidth:c,nameFontSize:l}=this.data;return{width:e*(i-1)+n*i,height:t+(a+c)*s.length,left:e,top:l+o,right:this.width-e,bottom:this.height}}get data(){const{defaultColor:t,defaultLineWidth:e}=x(this,y),{nameTextColor:n=t,nutLineWidth:i=e,nutColor:s=t,fretsColor:o=t,fretsLineWidth:a=e,stringColor:c=t,stringLineWidth:l=e,fingerCircleColor:p=t,startFretsTextColor:b=t,transposeTextColor:d=n}=x(this,y);return{...x(this,y),nameTextColor:n,nutLineWidth:i,nutColor:s,fretsColor:o,fretsLineWidth:a,stringColor:c,stringLineWidth:l,fingerCircleColor:p,startFretsTextColor:b,transposeTextColor:d}}render(t){return t&&O(this,y,{...x(this,y),...t}),N(this,L,I).call(this),this}}y=new WeakMap,S=new WeakMap,L=new WeakSet,I=function(){const t=this.data,{width:e,height:n}=this;x(this,S).setAttribute("width",`${e}`),x(this,S).setAttribute("height",`${n}`),x(this,S).setAttribute("viewBox",`0 0 ${e} ${n}`),N(this,L,X).call(this,t),N(this,L,U).call(this,t),N(this,L,Q).call(this,t),N(this,L,J).call(this,t)},J=function(t){const{name:e,nameTextColor:n,nameFontSize:i,transposeTextColor:s,transpose:o}=t,a=document.createElementNS("http://www.w3.org/2000/svg","text");if(a.setAttribute("x",`${this.width/2}`),a.setAttribute("y",`${i/2}`),a.setAttribute("fill",n),a.setAttribute("font-size",`${i}`),a.setAttribute("text-anchor","middle"),a.setAttribute("dominant-baseline","middle"),a.textContent=e,x(this,S).appendChild(a),o){const c=document.createElementNS("http://www.w3.org/2000/svg","text"),l=i/2,p=o===1;c.setAttribute("x",`${this.width/2-i*e.length/2}`),c.setAttribute("y",`${l*.5}`),c.setAttribute("fill",s),c.setAttribute("font-size",`${l}`),c.setAttribute("text-anchor",p?"middle":"start"),c.setAttribute("dominant-baseline","middle"),c.textContent=p?"♯":"♭",x(this,S).appendChild(c)}},Q=function(t){const{stringSpacing:e,fingerCircleColor:n,stringLineWidth:i,fingerRadius:s,spacing:o,matrix:a,fretsSpacing:c,fretsLineWidth:l,nameFontSize:p,nutLineWidth:b,fingerNumberTextColor:d}=t,g=s*1.5;for(let A=0;A<a.length;A++)for(let W=0;W<a[A].length;W++){const u=a[A][W];if(u>0){const f=W*(e+i)+i/2+e,T=(A+.5)*(c+l)+l/2+p+o+b-l,C=document.createElementNS("http://www.w3.org/2000/svg","circle");C.setAttribute("cx",`${f}`),C.setAttribute("cy",`${T}`),C.setAttribute("r",`${s}`),C.setAttribute("fill",n),x(this,S).appendChild(C);const w=document.createElementNS("http://www.w3.org/2000/svg","text");w.setAttribute("x",`${f}`),w.setAttribute("y",`${T+(b>l?l:b)/2}`),w.setAttribute("fill",d),w.setAttribute("font-size",`${g}`),w.setAttribute("text-anchor","middle"),w.setAttribute("dominant-baseline","middle"),w.textContent=u.toString(),x(this,S).appendChild(w)}}},U=function(t){const{startFretsTextColor:e,startFrets:n,nameFontSize:i,nutLineWidth:s,fretsLineWidth:o,fretsSpacing:a}=t;if(n<=1)return;const c=i/2,l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttribute("x","0"),l.setAttribute("y",`${this.gridRect.top+s+a/2+o*2}`),l.setAttribute("fill",e),l.setAttribute("font-size",`${c}`),l.setAttribute("font-style","italic"),l.textContent=n.toString(),x(this,S).appendChild(l)},X=function(t){const{matrix:e,stringLineWidth:n,stringSpacing:i,stringColor:s,stringCount:o,fretsSpacing:a,fretsLineWidth:c,fretsColor:l,nutLineWidth:p,nutColor:b}=t,d=e.length,{top:g,bottom:A,right:W,left:u}=this.gridRect;for(let f=0;f<o;f++){const T=f*(i+n)+n/2+i,C=document.createElementNS("http://www.w3.org/2000/svg","line");C.setAttribute("x1",`${T}`),C.setAttribute("y1",`${g+p}`),C.setAttribute("x2",`${T}`),C.setAttribute("y2",`${A}`),C.setAttribute("stroke",s),C.setAttribute("stroke-width",`${n}`),x(this,S).appendChild(C)}for(let f=0;f<=d;f++){const T=f===0,C=T?g+p/2:f*(a+c)+g+p-c/2,w=document.createElementNS("http://www.w3.org/2000/svg","line");w.setAttribute("x1",`${u}`),w.setAttribute("y1",`${C}`),w.setAttribute("x2",`${W}`),w.setAttribute("y2",`${C}`),w.setAttribute("stroke",T?b:l),w.setAttribute("stroke-width",`${T?p:c}`),x(this,S).appendChild(w)}};const Y=[{name:"C",nutLineWidth:10,nameTextColor:"#f30",nutColor:"#f30",fingerCircleColor:"#f30",stringColor:"#078",fretsColor:"#f88",matrix:[[0,0,0,0,1,0],[0,0,2,0,0,0],[3,4,0,0,0,0]]},{name:"Dm",nutLineWidth:10,fingerNumberTextColor:"#f30",matrix:[[0,0,0,0,0,1],[0,0,0,2,0,0],[0,0,0,0,3,0]]},{name:"Em",fretsLineWidth:8,matrix:[[0,0,0,0,0,0],[0,2,3,0,0,0],[0,0,0,0,0,0]]},{name:"F",stringLineWidth:12,fingerCircleColor:"#f30",matrix:[[1,1,0,0,0,1],[0,0,0,2,0,0],[0,3,4,0,0,0]]},{name:"G",matrix:[[0,0,0,0,0,0],[0,2,0,0,0,0],[3,0,0,0,0,4]]},{name:"Am",matrix:[[0,0,0,0,1,0],[0,0,2,3,0,0],[0,0,0,0,0,0]]},{name:"G7",matrix:[[0,0,0,0,0,1],[0,2,0,0,0,0],[3,0,0,0,0,0]]},{name:"C3",startFrets:3,startFretsTextColor:"#f30",nutLineWidth:10,matrix:[[1,1,0,0,0,1],[0,0,0,0,0,0],[0,0,2,3,4,0]]},{name:"F",transpose:1,startFrets:2,matrix:[[1,1,0,0,0,1],[0,0,0,2,0,0],[0,3,4,0,0,0]]},{name:"Am",transpose:1,transposeTextColor:"#f30",matrix:[[1,1,0,0,0,1],[0,0,0,0,1,0],[0,0,2,3,0,0]]},{name:"C3",startFrets:2,transpose:-1,startFretsTextColor:"#f30",matrix:[[1,1,0,0,0,1],[0,0,0,0,0,0],[0,0,2,3,4,0]]}],G=document.getElementById("app"),Z=document.createElement("h1");Z.textContent="Canvas";G.append(Z);G.append(...Y.map(r=>new it(r).element));const tt=document.createElement("h1");tt.textContent="SVG";G.append(tt);G.append(...Y.map(r=>new rt(r).element));
