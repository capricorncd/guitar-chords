/*!
 * @guitar-chords/demo version 0.0.1
 * Author: undefined
 * Homepage: undefined
 * Released on: 2024-10-27 20:49:09 (GMT+0900)
 */
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();/*!
 * @guitar-chords/canvas version 0.0.7
 * Author: Capricorncd <capricorncd@qq.com>
 * Homepage: https://github.com/capricorncd/guitar-chords#readme
 * Released on: 2024-10-27 20:49:01 (GMT+0900)
 */var gt=i=>{throw TypeError(i)},V=(i,t,e)=>t.has(i)||gt("Cannot "+e),g=(i,t,e)=>(V(i,t,"read from private field"),e?e.call(i):t.get(i)),B=(i,t,e)=>t.has(i)?gt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),E=(i,t,e,n)=>(V(i,t,"write to private field"),t.set(i,e),e),T=(i,t,e)=>(V(i,t,"access private method"),e);const Lt={autoRender:!0,defaultColor:"#000",defaultLineWidth:4,transpose:0,fontFamily:"Arial",name:"",nameFontSize:50,spacing:12,fretsSpacing:50,stringSpacing:30,stringCount:6,fingerRadius:15,showFingerNumber:!0,fingerNumberTextColor:"#fff",startFrets:0,matrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],mergeFingerCircle:!1,showNotesOutsideOfChords:!1,devicePixelRatio:window.devicePixelRatio||1};var R,N,v,L,S,_,Z,tt,et,it,nt,st,rt,j;class ft{constructor(t){B(this,S),B(this,R),B(this,N),B(this,v),B(this,L),E(this,R,{...Lt,...t});const{devicePixelRatio:e,autoRender:n}=g(this,R);E(this,N,document.createElement("canvas")),E(this,v,g(this,N).getContext("2d")),E(this,L,e),n&&T(this,S,_).call(this)}get element(){return g(this,N)}get width(){const{stringCount:t,stringSpacing:e,stringLineWidth:n}=this.data;return(e*(t+1)+n*t)*g(this,L)}get height(){const{nutLineWidth:t,fretsLineWidth:e,fretsSpacing:n,matrix:s,spacing:r,nameFontSize:o}=this.data;return(n*s.length+t+e*s.length+o+r)*g(this,L)}get gridRect(){const{stringLineWidth:t,stringSpacing:e,nutLineWidth:n,fretsSpacing:s,fretsLineWidth:r,stringCount:o,matrix:h,spacing:c,nameFontSize:a}=this.data;return{width:(e*(o-1)+t*o)*g(this,L),height:(s*h.length+n+r*h.length)*g(this,L),left:e*g(this,L),top:(a+c)*g(this,L),right:(this.width-e)*g(this,L),bottom:this.height*g(this,L)}}get data(){const{defaultColor:t,defaultLineWidth:e}=g(this,R),{nameTextColor:n=t,nutLineWidth:s=e,nutColor:r=t,fretsColor:o=t,fretsLineWidth:h=e,stringColor:c=t,stringLineWidth:a=e,fingerCircleColor:d=t,startFretsTextColor:m=t,transposeTextColor:p=n,showNotesOutsideOfChords:l,notesOutsideOfChords:C={},crossLineWidth:F=Math.min(a,h),crossLineColor:f=t,nameLetterSpacing:u=0}=g(this,R);return{...g(this,R),nameTextColor:n,nutLineWidth:s,nutColor:r,fretsColor:o,fretsLineWidth:h,stringColor:c,stringLineWidth:a,fingerCircleColor:d,startFretsTextColor:m,transposeTextColor:p,notesOutsideOfChords:C,showNotesOutsideOfChords:l||Object.keys(C).length>0,crossLineWidth:F,crossLineColor:f,nameLetterSpacing:u}}render(t){return t&&E(this,R,{...g(this,R),...t}),T(this,S,_).call(this),this}}R=new WeakMap,N=new WeakMap,v=new WeakMap,L=new WeakMap,S=new WeakSet,_=function(){const i=this.data,{width:t,height:e}=this;return g(this,N).width=t,g(this,N).height=e,g(this,N).style.width=`${t/g(this,L)}px`,g(this,N).style.height=`${e/g(this,L)}px`,g(this,v).scale(g(this,L),g(this,L)),g(this,v).clearRect(0,0,t,e),T(this,S,it).call(this,i),T(this,S,et).call(this,i),T(this,S,tt).call(this,i),T(this,S,Z).call(this,i),i.showNotesOutsideOfChords&&T(this,S,nt).call(this,i),this},Z=function(i){const{name:t,nameTextColor:e,nameFontSize:n,transpose:s,transposeTextColor:r,fontFamily:o,nameLetterSpacing:h}=i,{width:c}=this.gridRect,a=c/g(this,L),d=g(this,v);d.fillStyle=e,d.font=`${n}px ${o}`,d.textAlign="center",d.textBaseline="middle",d.letterSpacing=`${h}px`,d.fillText(t,this.width/(2*g(this,L)),n/2,a);const m=d.measureText(t);if(d.letterSpacing="0px",s!==0){const p=n/2;d.font=`${p}px ${o}`,d.fillStyle=r,d.textAlign="right",d.fillText(s===1?"♯":"♭",this.width/(2*g(this,L))-Math.min(m.width/2,a/2),p/2)}},tt=function(i){const{stringSpacing:t,fretsSpacing:e,stringLineWidth:n,fretsLineWidth:s,fingerRadius:r,matrix:o,nutLineWidth:h,fingerNumberTextColor:c,fingerCircleColor:a,fontFamily:d,showFingerNumber:m,mergeFingerCircle:p}=i,l=g(this,v);l.fillStyle=a;const C=r*1.5,{top:F}=this.gridRect,f=new Map;let u=0;for(let x=0;x<o.length;x++)for(let y=0;y<o[x].length;y++)if(u=o[x][y],u>0){const b=y*(t+n)+n/2+t,P=F/g(this,L)+h+(e+s)*x+e/2;if(l.fillStyle=a,l.beginPath(),l.arc(b,P,r,0,Math.PI*2),l.fill(),p){f.has(u)||f.set(u,[]);const z=f.get(u);z.push({x:b,y:P}),z.length>1&&y===o[x].lastIndexOf(u)&&(l.beginPath(),l.moveTo(z[0].x,z[0].y),l.lineTo(b,P),l.strokeStyle=a,l.lineWidth=r*2,l.stroke())}if(!m||p&&y!==o[x].lastIndexOf(u))continue;l.fillStyle=c,l.font=`${C}px ${d}`,l.textAlign="center",l.textBaseline="middle";const A=String(u),{actualBoundingBoxAscent:G,actualBoundingBoxDescent:D}=l.measureText(A);l.fillText(A,b,P+Math.abs(G-D)/2)}},et=function(i){const{nutLineWidth:t,fretsSpacing:e,startFrets:n,nameFontSize:s,startFretsTextColor:r,fontFamily:o}=i;if(n<=1)return;const{top:h}=this.gridRect,c=g(this,v),a=s/2;c.fillStyle=r,c.font=`italic ${a}px ${o}`,c.textAlign="left",c.textBaseline="middle",c.fillText(n.toString(),0,h/g(this,L)+t+e/2)},it=function(i){const{matrix:t,nutLineWidth:e,stringLineWidth:n,fretsLineWidth:s,stringSpacing:r,fretsSpacing:o,nutColor:h,stringColor:c,fretsColor:a,stringCount:d,spacing:m,nameFontSize:p}=i,l=g(this,v),C=p+m,F=t.length;for(let f=0;f<d;f++){const u=f*(r+n)+n/2+r;l.beginPath(),l.moveTo(u,C+Math.abs(e-s)),l.lineTo(u,this.height),l.strokeStyle=c,l.lineWidth=n,l.stroke()}for(let f=0;f<=F;f++){const u=f===0?C+e/2:C+e+f*(o+s)-s/2;l.beginPath(),l.moveTo(r,u),l.lineTo(this.width/g(this,L)-r,u),l.strokeStyle=f===0?h:a,l.lineWidth=f===0?e:s,l.stroke()}},nt=function(i){const{stringLineWidth:t,stringSpacing:e,stringCount:n,notesOutsideOfChords:s,devicePixelRatio:r,crossLineColor:o,crossLineWidth:h,fingerRadius:c}=i,a=g(this,v),d=c*1.5,m=this.gridRect.top/r;for(let p=0;p<n;p++){if(!T(this,S,st).call(this,p,i))continue;const l=p*(e+t)+e+t/2;if(s[n-p]){const C=T(this,S,rt).call(this,i,d);a.drawImage(C,l-C.width/(r*2),m-C.height/r,C.width/r,C.height/r)}else a.fillStyle=o,a.beginPath(),a.arc(l,m-d/2,d/2,0,Math.PI*2),a.lineWidth=h,a.strokeStyle=o,a.stroke()}},st=function(i,t){const{matrix:e}=t;for(let n=0;n<e.length;n++)if(e[n][i]>0)return!1;return!0},rt=function(i,t){const{crossLineColor:e,crossLineWidth:n,devicePixelRatio:s}=i,r=t*s,o=document.createElement("canvas"),h=o.getContext("2d");o.width=o.height=r,h.beginPath();const c=T(this,S,j).call(this,t,-Math.PI/4),a=T(this,S,j).call(this,t,3*Math.PI/4);h.moveTo(c.x*s,c.y*s),h.lineTo(a.x*s,a.y*s);const d=T(this,S,j).call(this,t,Math.PI/4),m=T(this,S,j).call(this,t,-3*Math.PI/4);return h.moveTo(d.x*s,d.y*s),h.lineTo(m.x*s,m.y*s),h.strokeStyle=e,h.lineJoin="round",h.lineWidth=n*s,h.stroke(),o},j=function(i,t){const e=i/2,n=e*Math.cos(t),s=e*Math.sin(t);return{x:n+e,y:s+e}};/*!
 * @guitar-chords/svg version 0.0.5
 * Author: Capricorncd<capricorncd@qq.com>
 * Homepage: https://github.com/capricorncd/guitar-chords
 * Released on: 2024-10-27 20:49:01 (GMT+0900)
 */var ut=i=>{throw TypeError(i)},Q=(i,t,e)=>t.has(i)||ut("Cannot "+e),w=(i,t,e)=>(Q(i,t,"read from private field"),e?e.call(i):t.get(i)),H=(i,t,e)=>t.has(i)?ut("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),K=(i,t,e,n)=>(Q(i,t,"write to private field"),t.set(i,e),e),k=(i,t,e)=>(Q(i,t,"access private method"),e);const wt={autoRender:!0,defaultColor:"#000",defaultLineWidth:4,transpose:0,name:"",nameFontSize:50,spacing:18,fretsSpacing:50,stringSpacing:30,stringCount:6,fingerRadius:15,fingerNumberTextColor:"#fff",showFingerNumber:!0,startFrets:0,matrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],mergeFingerCircle:!1,showNotesOutsideOfChords:!1},$=(i,t={},e)=>{const n=document.createElementNS("http://www.w3.org/2000/svg",i);for(const[s,r]of Object.entries(t))!r&&r!==0||n.setAttribute(s,String(r));return e&&(n.textContent=String(e)),n};var M,W,O,U,ot,at,J,ht,lt,ct,dt;class mt{constructor(t={}){H(this,O),H(this,M),H(this,W),K(this,M,{...wt,...t});const{autoRender:e}=w(this,M);K(this,W,$("svg")),e&&k(this,O,U).call(this)}get element(){return w(this,W)}get width(){const{stringCount:t,stringSpacing:e,stringLineWidth:n}=this.data;return e*(t+1)+n*t}get height(){const{nutLineWidth:t,fretsSpacing:e,fretsLineWidth:n,matrix:s,spacing:r,nameFontSize:o}=this.data;return t+(e+n)*s.length+o+r}get gridRect(){const{nutLineWidth:t,stringSpacing:e,stringLineWidth:n,stringCount:s,matrix:r,spacing:o,fretsSpacing:h,fretsLineWidth:c,nameFontSize:a}=this.data;return{width:e*(s-1)+n*s,height:t+(h+c)*r.length,left:e,top:a+o,right:this.width-e,bottom:this.height}}get data(){const{defaultColor:t,defaultLineWidth:e}=w(this,M),{nameTextColor:n=t,nutLineWidth:s=e,nutColor:r=t,fretsColor:o=t,fretsLineWidth:h=e,stringColor:c=t,stringLineWidth:a=e,fingerCircleColor:d=t,startFretsTextColor:m=t,transposeTextColor:p=n,notesOutsideOfChords:l={},showNotesOutsideOfChords:C,crossLineWidth:F=Math.min(a,h),crossLineColor:f=t,nameLetterSpacing:u=0}=w(this,M);return{...w(this,M),nameTextColor:n,nutLineWidth:s,nutColor:r,fretsColor:o,fretsLineWidth:h,stringColor:c,stringLineWidth:a,fingerCircleColor:d,startFretsTextColor:m,transposeTextColor:p,notesOutsideOfChords:l,showNotesOutsideOfChords:C||Object.keys(l).length>0,crossLineWidth:F,crossLineColor:f,nameLetterSpacing:u}}render(t){return t&&K(this,M,{...w(this,M),...t}),w(this,W).innerHTML="",k(this,O,U).call(this),this}}M=new WeakMap,W=new WeakMap,O=new WeakSet,U=function(){const i=this.data,{width:t,height:e}=this;w(this,W).setAttribute("width",`${t}`),w(this,W).setAttribute("height",`${e}`),w(this,W).setAttribute("viewBox",`0 0 ${t} ${e}`),k(this,O,lt).call(this,i),k(this,O,ht).call(this,i),k(this,O,at).call(this,i),k(this,O,ot).call(this,i),i.showNotesOutsideOfChords&&k(this,O,ct).call(this,i)},ot=function(i){const{name:t,nameTextColor:e,nameFontSize:n,transposeTextColor:s,transpose:r,nameLetterSpacing:o}=i,h=!!r,c=$("text",{x:this.width/2-(h?n/4:0),y:n/2,fill:e,"font-size":n,"text-anchor":"middle","dominant-baseline":"central"});w(this,W).appendChild(c),h&&c.append($("tspan",{fill:s,style:`font-size:${n/2}px;`,"baseline-shift":"super"},r===1?"♯":"♭"));const a=$("tspan",{style:`letter-spacing:${o}px;`},t);c.append(a),setTimeout(()=>{const d=this.gridRect.width,{width:m}=a.getBBox();m>d&&(a.setAttribute("textLength",String(d)),a.setAttribute("lengthAdjust","spacingAndGlyphs"))},0)},at=function(i){const{stringSpacing:t,fingerCircleColor:e,stringLineWidth:n,fingerRadius:s,spacing:r,matrix:o,fretsSpacing:h,fretsLineWidth:c,nameFontSize:a,nutLineWidth:d,fingerNumberTextColor:m,showFingerNumber:p,mergeFingerCircle:l}=i,C=s*1.5,F=new Map;for(let f=0;f<o.length;f++)for(let u=0;u<o[f].length;u++){const x=o[f][u];if(x>0){const y=u*(t+n)+n/2+t,b=(f+.5)*(h+c)+c/2+a+r+d-c;if(l){F.has(x)||F.set(x,[]);const A=F.get(x);if(A.push({x:y,y:b}),A.length>1&&u===o[f].lastIndexOf(x)){const G=A[0],D={x:y,y:b},z=$("line",{x1:`${G.x}`,y1:`${G.y}`,x2:`${D.x}`,y2:`${D.y}`,stroke:e,"stroke-width":`${s*2}`,"stroke-linecap":"round"});w(this,W).appendChild(z),p&&k(this,O,J).call(this,y,b,x,m,C);continue}}const P=$("circle",{cx:`${y}`,cy:`${b}`,r:`${s}`,fill:e});w(this,W).appendChild(P),p&&(!l||u===o[f].lastIndexOf(x))&&k(this,O,J).call(this,y,b,x,m,C)}}},J=function(i,t,e,n,s){const r=$("text",{x:`${i}`,y:`${t}`,fill:n,"font-size":`${s}`,"text-anchor":"middle","dominant-baseline":"central"},e);w(this,W).appendChild(r)},ht=function(i){const{startFretsTextColor:t,startFrets:e,nameFontSize:n,nutLineWidth:s,fretsLineWidth:r,fretsSpacing:o}=i;if(e<=1)return;const h=n/2,c=$("text",{x:"0",y:`${this.gridRect.top+s+o/2+r*2}`,fill:t,"font-size":`${h}`,"font-style":"italic"},e);w(this,W).appendChild(c)},lt=function(i){const{matrix:t,stringLineWidth:e,stringSpacing:n,stringColor:s,stringCount:r,fretsSpacing:o,fretsLineWidth:h,fretsColor:c,nutLineWidth:a,nutColor:d}=i,m=t.length,{top:p,bottom:l,right:C,left:F}=this.gridRect;for(let f=0;f<r;f++){const u=f*(n+e)+e/2+n,x=$("line",{x1:`${u}`,y1:`${p+a}`,x2:`${u}`,y2:`${l}`,stroke:s,"stroke-width":`${e}`});w(this,W).appendChild(x)}for(let f=0;f<=m;f++){const u=f===0,x=u?p+a/2:f*(o+h)+p+a-h/2,y=$("line",{x1:`${F}`,y1:`${x}`,x2:`${C}`,y2:`${x}`,stroke:u?d:c,"stroke-width":`${u?a:h}`});w(this,W).appendChild(y)}},ct=function(i){const{stringLineWidth:t,stringSpacing:e,stringCount:n,notesOutsideOfChords:s,fingerRadius:r,crossLineColor:o,crossLineWidth:h}=i,c=this.gridRect.top;for(let a=0;a<n;a++){if(!k(this,O,dt).call(this,a,i))continue;const d=a*(e+t)+t/2+e;if(s[n-a]){const m=$("g",{transform:`translate(${d-r/2}, ${c-r*1.2})`}),p=$("line",{x1:"0",y1:"0",x2:`${r}`,y2:`${r}`,stroke:o,"stroke-width":`${h}`,"stroke-linecap":"round"});m.appendChild(p);const l=$("line",{x1:"0",y1:`${r}`,x2:`${r}`,y2:"0",stroke:o,"stroke-width":`${h}`,"stroke-linecap":"round"});m.appendChild(l),w(this,W).appendChild(m)}else{const m=r*.75,p=$("circle",{cx:`${d}`,cy:`${c-m*1.1}`,r:`${m}`,fill:"transparent",stroke:o,"stroke-width":`${h}`});w(this,W).appendChild(p)}}},dt=function(i,t){const{matrix:e}=t;for(let n=0;n<e.length;n++)if(e[n][i]>0)return!1;return!0};const q=[{name:"C",nutLineWidth:10,nameTextColor:"#f30",nutColor:"#f30",fingerCircleColor:"#f30",stringColor:"#078",fretsColor:"#f88",matrix:[[0,0,0,0,1,0],[0,0,2,0,0,0],[3,4,0,0,0,0]]},{name:"Dm",nutLineWidth:10,fingerNumberTextColor:"#f30",matrix:[[0,0,0,0,0,1],[0,0,0,2,0,0],[0,0,0,0,3,0]]},{name:"Em",fretsLineWidth:8,matrix:[[0,0,0,0,0,0],[0,2,3,0,0,0],[0,0,0,0,0,0]]},{name:"F",stringLineWidth:12,fingerCircleColor:"#f30",matrix:[[1,0,0,0,1,1],[0,0,0,2,0,0],[0,3,4,0,0,0]]},{name:"G",matrix:[[0,0,0,0,0,0],[0,2,0,0,0,0],[3,0,0,0,0,4]],showNotesOutsideOfChords:!0},{name:"Am",matrix:[[0,0,0,0,1,0],[0,0,2,3,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0}},{name:"G7",matrix:[[0,0,0,0,0,1],[0,2,0,0,0,0],[3,0,0,0,0,0]]},{name:"C3",startFrets:3,startFretsTextColor:"#f30",nutLineWidth:10,matrix:[[1,1,0,0,0,1],[0,0,0,0,0,0],[0,0,2,3,4,0]]},{name:"F",transpose:1,startFrets:2,matrix:[[1,1,0,0,0,1],[0,0,0,2,0,0],[0,3,4,0,0,0]]},{name:"Am",transpose:1,transposeTextColor:"#f30",matrix:[[1,1,0,0,0,1],[0,0,0,0,2,0],[0,0,3,4,0,0]]},{name:"C3",startFrets:2,transpose:-1,startFretsTextColor:"#f30",showFingerNumber:!1,mergeFingerCircle:!0,matrix:[[1,1,0,0,0,1],[0,0,0,0,0,0],[0,0,2,3,4,0]]},{name:"C3",startFrets:3,startFretsTextColor:"#f30",nutLineWidth:10,mergeFingerCircle:!0,matrix:[[1,1,0,0,0,1],[0,0,0,0,0,0],[0,0,3,3,3,0]]},{name:"Fmaj7",startFrets:5,startFretsTextColor:"#f30",nutLineWidth:10,mergeFingerCircle:!0,matrix:[[0,0,0,1,1,1],[0,0,2,0,0,0],[0,3,0,0,0,0]]},{name:"Cm7-5",startFrets:3,transpose:1,nutLineWidth:10,mergeFingerCircle:!0,nameLetterSpacing:12,matrix:[[0,0,0,0,0,0],[0,1,0,2,0,0],[0,0,3,0,4,0]],notesOutsideOfChords:{6:!0}}],I=document.getElementById("app"),pt=document.createElement("h1");pt.textContent="Canvas";I.append(pt);I.append(...q.map(i=>new ft(i).element));const Ct={name:"C",transpose:1,matrix:[[0,0,0,1,0,1],[0,0,0,0,2,0],[0,0,3,0,0,0],[0,4,0,0,0,0]],notesOutsideOfChords:{6:!0},mergeFingerCircle:!0},X=new ft({...q[0],autoRender:!1});console.log(X.data);X.render();I.append(X.render(Ct).element);const xt=document.createElement("h1");xt.textContent="SVG";I.append(xt);I.append(...q.map(i=>new mt(i).element));const Y=new mt({...q[0],autoRender:!1});console.log(Y.data);Y.render();I.append(Y.render({...Ct,name:"Test"}).element);
