/*!
 * @guitar-chords/demo version 0.0.1
 * Author: undefined
 * Homepage: undefined
 * Released on: 2024-10-27 10:25:56 (GMT+0900)
 */
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=e(s);fetch(s.href,n)}})();/*!
 * @guitar-chords/canvas version 0.0.6
 * Author: Capricorncd <capricorncd@qq.com>
 * Homepage: https://github.com/capricorncd/guitar-chords#readme
 * Released on: 2024-10-27 10:24:32 (GMT+0900)
 */var ut=i=>{throw TypeError(i)},U=(i,t,e)=>t.has(i)||ut("Cannot "+e),u=(i,t,e)=>(U(i,t,"read from private field"),e?e.call(i):t.get(i)),z=(i,t,e)=>t.has(i)?ut("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),I=(i,t,e,r)=>(U(i,t,"write to private field"),t.set(i,e),e),y=(i,t,e)=>(U(i,t,"access private method"),e);const pt={autoRender:!0,defaultColor:"#000",defaultLineWidth:4,transpose:0,fontFamily:"Arial",name:"",nameFontSize:50,spacing:12,fretsSpacing:50,stringSpacing:30,stringCount:6,fingerRadius:15,showFingerNumber:!0,fingerNumberTextColor:"#fff",startFrets:0,matrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],mergeFingerCircle:!1,showNotesOutsideOfChords:!1,devicePixelRatio:window.devicePixelRatio||1};var N,E,O,b,L,_,Z,tt,et,it,nt,rt,st,B;class V{constructor(t={}){z(this,L),z(this,N),z(this,E),z(this,O),z(this,b),I(this,N,{...pt,...t});const{devicePixelRatio:e,autoRender:r}=u(this,N);I(this,E,document.createElement("canvas")),I(this,O,u(this,E).getContext("2d")),I(this,b,e),r&&y(this,L,_).call(this)}get element(){return u(this,E)}get width(){const{stringCount:t,stringSpacing:e,stringLineWidth:r}=this.data;return(e*(t+1)+r*t)*u(this,b)}get height(){const{nutLineWidth:t,fretsLineWidth:e,fretsSpacing:r,matrix:s,spacing:n,nameFontSize:o}=this.data;return(r*s.length+t+e*s.length+o+n)*u(this,b)}get gridRect(){const{stringLineWidth:t,stringSpacing:e,nutLineWidth:r,fretsSpacing:s,fretsLineWidth:n,stringCount:o,matrix:a,spacing:h,nameFontSize:c}=this.data;return{width:(e*(o-1)+t*o)*u(this,b),height:(s*a.length+r+n*a.length)*u(this,b),left:e*u(this,b),top:(c+h)*u(this,b),right:(this.width-e)*u(this,b),bottom:this.height*u(this,b)}}get data(){const{defaultColor:t,defaultLineWidth:e}=u(this,N),{nameTextColor:r=t,nutLineWidth:s=e,nutColor:n=t,fretsColor:o=t,fretsLineWidth:a=e,stringColor:h=t,stringLineWidth:c=e,fingerCircleColor:C=t,startFretsTextColor:p=t,transposeTextColor:d=r,notesOutsideOfChords:l={},crossLineWidth:x=c,crossLineColor:W=t}=u(this,N);return{...u(this,N),nameTextColor:r,nutLineWidth:s,nutColor:n,fretsColor:o,fretsLineWidth:a,stringColor:h,stringLineWidth:c,fingerCircleColor:C,startFretsTextColor:p,transposeTextColor:d,crossLineWidth:x,crossLineColor:W,notesOutsideOfChords:l}}render(t){return t&&I(this,N,{...u(this,N),...t}),y(this,L,_).call(this),this}}N=new WeakMap,E=new WeakMap,O=new WeakMap,b=new WeakMap,L=new WeakSet,_=function(){const i=this.data,{width:t,height:e}=this;return u(this,E).width=t,u(this,E).height=e,u(this,E).style.width=`${t/u(this,b)}px`,u(this,E).style.height=`${e/u(this,b)}px`,u(this,O).scale(u(this,b),u(this,b)),u(this,O).clearRect(0,0,t,e),y(this,L,it).call(this,i),y(this,L,et).call(this,i),y(this,L,tt).call(this,i),y(this,L,Z).call(this,i),i.showNotesOutsideOfChords&&y(this,L,nt).call(this,i),this},Z=function(i){const{name:t,nameTextColor:e,nameFontSize:r,transpose:s,transposeTextColor:n,fontFamily:o}=i,a=u(this,O);a.fillStyle=e,a.font=`${r}px ${o}`,a.textAlign="center",a.textBaseline="middle",a.fillText(t,this.width/(2*u(this,b)),r/2);const h=a.measureText(t);if(s!==0){const c=r/2;a.font=`${c}px ${o}`,a.fillStyle=n,a.textAlign="right",a.fillText(s===1?"♯":"♭",this.width/(2*u(this,b))-h.width/2,c/2)}},tt=function(i){const{stringSpacing:t,fretsSpacing:e,stringLineWidth:r,fretsLineWidth:s,fingerRadius:n,matrix:o,nutLineWidth:a,fingerNumberTextColor:h,fingerCircleColor:c,fontFamily:C,showFingerNumber:p,mergeFingerCircle:d}=i,l=u(this,O);l.fillStyle=c;const x=n*1.5,{top:W}=this.gridRect,g=new Map;let f=0;for(let m=0;m<o.length;m++)for(let w=0;w<o[m].length;w++)if(f=o[m][w],f>0){const v=w*(t+r)+r/2+t,T=W/u(this,b)+a+(e+s)*m+e/2;if(l.fillStyle=c,l.beginPath(),l.arc(v,T,n,0,Math.PI*2),l.fill(),d){g.has(f)||g.set(f,[]);const $=g.get(f);$.push({x:v,y:T}),$.length>1&&w===o[m].lastIndexOf(f)&&(l.beginPath(),l.moveTo($[0].x,$[0].y),l.lineTo(v,T),l.strokeStyle=c,l.lineWidth=n*2,l.stroke())}if(!p||d&&w!==o[m].lastIndexOf(f))continue;l.fillStyle=h,l.font=`${x}px ${C}`,l.textAlign="center",l.textBaseline="middle";const P=String(f),{actualBoundingBoxAscent:G,actualBoundingBoxDescent:j}=l.measureText(P);l.fillText(P,v,T+Math.abs(G-j)/2)}},et=function(i){const{nutLineWidth:t,fretsSpacing:e,startFrets:r,nameFontSize:s,startFretsTextColor:n,fontFamily:o}=i;if(r<=1)return;const{top:a}=this.gridRect,h=u(this,O),c=s/2;h.fillStyle=n,h.font=`italic ${c}px ${o}`,h.textAlign="left",h.textBaseline="middle",h.fillText(r.toString(),0,a/u(this,b)+t+e/2)},it=function(i){const{matrix:t,nutLineWidth:e,stringLineWidth:r,fretsLineWidth:s,stringSpacing:n,fretsSpacing:o,nutColor:a,stringColor:h,fretsColor:c,stringCount:C,spacing:p,nameFontSize:d}=i,l=u(this,O),x=d+p,W=t.length;for(let g=0;g<C;g++){const f=g*(n+r)+r/2+n;l.beginPath(),l.moveTo(f,x+Math.abs(e-s)),l.lineTo(f,this.height),l.strokeStyle=h,l.lineWidth=r,l.stroke()}for(let g=0;g<=W;g++){const f=g===0?x+e/2:x+e+g*(o+s)-s/2;l.beginPath(),l.moveTo(n,f),l.lineTo(this.width/u(this,b)-n,f),l.strokeStyle=g===0?a:c,l.lineWidth=g===0?e:s,l.stroke()}},nt=function(i){const{stringLineWidth:t,stringSpacing:e,stringCount:r,notesOutsideOfChords:s,devicePixelRatio:n,crossLineColor:o,crossLineWidth:a,fingerRadius:h}=i,c=u(this,O),C=h*1.5,p=this.gridRect.top/n;for(let d=0;d<r;d++){if(!y(this,L,rt).call(this,d,i))continue;const l=d*(e+t)+e+t/2;if(s[r-d]){const x=y(this,L,st).call(this,i,C);c.drawImage(x,l-x.width/(n*2),p-x.height/n,x.width/n,x.height/n)}else c.fillStyle=o,c.beginPath(),c.arc(l,p-C/2,(C-a)/2,0,Math.PI*2),c.lineWidth=a,c.strokeStyle=o,c.stroke()}},rt=function(i,t){const{matrix:e}=t;for(let r=0;r<e.length;r++)if(e[r][i]>0)return!1;return!0},st=function(i,t){const{fingerRadius:e,crossLineColor:r,crossLineWidth:s,devicePixelRatio:n}=i,o=t*n,a=document.createElement("canvas"),h=a.getContext("2d");a.width=a.height=o,h.beginPath();const c=y(this,L,B).call(this,t,-Math.PI/4),C=y(this,L,B).call(this,t,3*Math.PI/4);h.moveTo(c.x*n,c.y*n),h.lineTo(C.x*n,C.y*n);const p=y(this,L,B).call(this,t,Math.PI/4),d=y(this,L,B).call(this,t,-3*Math.PI/4);return h.moveTo(p.x*n,p.y*n),h.lineTo(d.x*n,d.y*n),h.strokeStyle=r,h.lineJoin="round",h.lineWidth=s*n,h.stroke(),a},B=function(i,t){const e=i/2,r=e*Math.cos(t),s=e*Math.sin(t);return{x:r+e,y:s+e}};/*!
 * @guitar-chords/svg version 0.0.4
 * Author: Capricorncd<capricorncd@qq.com>
 * Homepage: https://github.com/capricorncd/guitar-chords
 * Released on: 2024-10-27 10:24:32 (GMT+0900)
 */var gt=i=>{throw TypeError(i)},Q=(i,t,e)=>t.has(i)||gt("Cannot "+e),A=(i,t,e)=>(Q(i,t,"read from private field"),e?e.call(i):t.get(i)),q=(i,t,e)=>t.has(i)?gt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),J=(i,t,e,r)=>(Q(i,t,"write to private field"),t.set(i,e),e),k=(i,t,e)=>(Q(i,t,"access private method"),e);const Ct={autoRender:!0,defaultColor:"#000",defaultLineWidth:4,transpose:0,name:"",nameFontSize:50,spacing:12,fretsSpacing:50,stringSpacing:30,stringCount:6,fingerRadius:15,fingerNumberTextColor:"#fff",showFingerNumber:!0,startFrets:0,matrix:[[0,0,0,0,0,0],[0,0,0,0,0,0],[0,0,0,0,0,0]],mergeFingerCircle:!1,showNotesOutsideOfChords:!1};var R,S,F,H,ot,at,K,ht,lt,ct,dt;class xt{constructor(t={}){q(this,F),q(this,R),q(this,S),J(this,R,{...Ct,...t});const{autoRender:e}=A(this,R);J(this,S,document.createElementNS("http://www.w3.org/2000/svg","svg")),e&&k(this,F,H).call(this)}get element(){return A(this,S)}get width(){const{stringCount:t,stringSpacing:e,stringLineWidth:r}=this.data;return e*(t+1)+r*t}get height(){const{nutLineWidth:t,fretsSpacing:e,fretsLineWidth:r,matrix:s,spacing:n,nameFontSize:o}=this.data;return t+(e+r)*s.length+o+n}get gridRect(){const{nutLineWidth:t,stringSpacing:e,stringLineWidth:r,stringCount:s,matrix:n,spacing:o,fretsSpacing:a,fretsLineWidth:h,nameFontSize:c}=this.data;return{width:e*(s-1)+r*s,height:t+(a+h)*n.length,left:e,top:c+o,right:this.width-e,bottom:this.height}}get data(){const{defaultColor:t,defaultLineWidth:e}=A(this,R),{nameTextColor:r=t,nutLineWidth:s=e,nutColor:n=t,fretsColor:o=t,fretsLineWidth:a=e,stringColor:h=t,stringLineWidth:c=e,fingerCircleColor:C=t,startFretsTextColor:p=t,transposeTextColor:d=r,notesOutsideOfChords:l={},crossLineWidth:x=c,crossLineColor:W=t}=A(this,R);return{...A(this,R),nameTextColor:r,nutLineWidth:s,nutColor:n,fretsColor:o,fretsLineWidth:a,stringColor:h,stringLineWidth:c,fingerCircleColor:C,startFretsTextColor:p,transposeTextColor:d,notesOutsideOfChords:l,crossLineWidth:x,crossLineColor:W}}render(t){return t&&J(this,R,{...A(this,R),...t}),k(this,F,H).call(this),this}}R=new WeakMap,S=new WeakMap,F=new WeakSet,H=function(){const i=this.data,{width:t,height:e}=this;A(this,S).setAttribute("width",`${t}`),A(this,S).setAttribute("height",`${e}`),A(this,S).setAttribute("viewBox",`0 0 ${t} ${e}`),k(this,F,lt).call(this,i),k(this,F,ht).call(this,i),k(this,F,at).call(this,i),k(this,F,ot).call(this,i),i.showNotesOutsideOfChords&&k(this,F,ct).call(this,i)},ot=function(i){const{name:t,nameTextColor:e,nameFontSize:r,transposeTextColor:s,transpose:n}=i,o=document.createElementNS("http://www.w3.org/2000/svg","text");if(o.setAttribute("x",`${this.width/2}`),o.setAttribute("y",`${r/2}`),o.setAttribute("fill",e),o.setAttribute("font-size",`${r}`),o.setAttribute("text-anchor","middle"),o.setAttribute("dominant-baseline","middle"),o.textContent=t,A(this,S).appendChild(o),n){const a=document.createElementNS("http://www.w3.org/2000/svg","text"),h=r/2,c=n===1;a.setAttribute("x",`${this.width/2-r*t.length/2}`),a.setAttribute("y",`${h*.5}`),a.setAttribute("fill",s),a.setAttribute("font-size",`${h}`),a.setAttribute("text-anchor",c?"middle":"start"),a.setAttribute("dominant-baseline","middle"),a.textContent=c?"♯":"♭",A(this,S).appendChild(a)}},at=function(i){const{stringSpacing:t,fingerCircleColor:e,stringLineWidth:r,fingerRadius:s,spacing:n,matrix:o,fretsSpacing:a,fretsLineWidth:h,nameFontSize:c,nutLineWidth:C,fingerNumberTextColor:p,showFingerNumber:d,mergeFingerCircle:l}=i,x=s*1.5,W=new Map;for(let g=0;g<o.length;g++)for(let f=0;f<o[g].length;f++){const m=o[g][f];if(m>0){const w=f*(t+r)+r/2+t,v=(g+.5)*(a+h)+h/2+c+n+C-h;if(l){W.has(m)||W.set(m,[]);const P=W.get(m);if(P.push({x:w,y:v}),P.length>1&&f===o[g].lastIndexOf(m)){const G=P[0],j={x:w,y:v},$=document.createElementNS("http://www.w3.org/2000/svg","line");$.setAttribute("x1",`${G.x}`),$.setAttribute("y1",`${G.y}`),$.setAttribute("x2",`${j.x}`),$.setAttribute("y2",`${j.y}`),$.setAttribute("stroke",e),$.setAttribute("stroke-width",`${s*2}`),$.setAttribute("stroke-linecap","round"),A(this,S).appendChild($),d&&k(this,F,K).call(this,w,v,m,p,x);continue}}const T=document.createElementNS("http://www.w3.org/2000/svg","circle");T.setAttribute("cx",`${w}`),T.setAttribute("cy",`${v}`),T.setAttribute("r",`${s}`),T.setAttribute("fill",e),A(this,S).appendChild(T),d&&(!l||f===o[g].lastIndexOf(m))&&k(this,F,K).call(this,w,v,m,p,x)}}},K=function(i,t,e,r,s){const n=document.createElementNS("http://www.w3.org/2000/svg","text");n.setAttribute("x",`${i}`),n.setAttribute("y",`${t}`),n.setAttribute("fill",r),n.setAttribute("font-size",`${s}`),n.setAttribute("text-anchor","middle"),n.setAttribute("dominant-baseline","central"),n.textContent=e.toString(),A(this,S).appendChild(n)},ht=function(i){const{startFretsTextColor:t,startFrets:e,nameFontSize:r,nutLineWidth:s,fretsLineWidth:n,fretsSpacing:o}=i;if(e<=1)return;const a=r/2,h=document.createElementNS("http://www.w3.org/2000/svg","text");h.setAttribute("x","0"),h.setAttribute("y",`${this.gridRect.top+s+o/2+n*2}`),h.setAttribute("fill",t),h.setAttribute("font-size",`${a}`),h.setAttribute("font-style","italic"),h.textContent=e.toString(),A(this,S).appendChild(h)},lt=function(i){const{matrix:t,stringLineWidth:e,stringSpacing:r,stringColor:s,stringCount:n,fretsSpacing:o,fretsLineWidth:a,fretsColor:h,nutLineWidth:c,nutColor:C}=i,p=t.length,{top:d,bottom:l,right:x,left:W}=this.gridRect;for(let g=0;g<n;g++){const f=g*(r+e)+e/2+r,m=document.createElementNS("http://www.w3.org/2000/svg","line");m.setAttribute("x1",`${f}`),m.setAttribute("y1",`${d+c}`),m.setAttribute("x2",`${f}`),m.setAttribute("y2",`${l}`),m.setAttribute("stroke",s),m.setAttribute("stroke-width",`${e}`),A(this,S).appendChild(m)}for(let g=0;g<=p;g++){const f=g===0,m=f?d+c/2:g*(o+a)+d+c-a/2,w=document.createElementNS("http://www.w3.org/2000/svg","line");w.setAttribute("x1",`${W}`),w.setAttribute("y1",`${m}`),w.setAttribute("x2",`${x}`),w.setAttribute("y2",`${m}`),w.setAttribute("stroke",f?C:h),w.setAttribute("stroke-width",`${f?c:a}`),A(this,S).appendChild(w)}},ct=function(i){const{stringLineWidth:t,stringSpacing:e,stringCount:r,notesOutsideOfChords:s,fingerRadius:n,crossLineColor:o,crossLineWidth:a}=i,h=this.gridRect.top;for(let c=0;c<r;c++){if(!k(this,F,dt).call(this,c,i))continue;const C=c*(e+t)+t/2+e;if(s[r-c]){const p=document.createElementNS("http://www.w3.org/2000/svg","g");p.setAttribute("transform",`translate(${C-n/2}, ${h-n*1.2})`);const d=document.createElementNS("http://www.w3.org/2000/svg","line");d.setAttribute("x1","0"),d.setAttribute("y1","0"),d.setAttribute("x2",`${n}`),d.setAttribute("y2",`${n}`),d.setAttribute("stroke",o),d.setAttribute("stroke-width",`${a}`),d.setAttribute("stroke-linecap","round"),p.appendChild(d);const l=document.createElementNS("http://www.w3.org/2000/svg","line");l.setAttribute("x1","0"),l.setAttribute("y1",`${n}`),l.setAttribute("x2",`${n}`),l.setAttribute("y2","0"),l.setAttribute("stroke",o),l.setAttribute("stroke-width",`${a}`),l.setAttribute("stroke-linecap","round"),p.appendChild(l),A(this,S).appendChild(p)}else{const p=n*.75,d=document.createElementNS("http://www.w3.org/2000/svg","circle");d.setAttribute("cx",`${C}`),d.setAttribute("cy",`${h-p*1.1}`),d.setAttribute("r",`${p}`),d.setAttribute("fill","transparent"),d.setAttribute("stroke",o),d.setAttribute("stroke-width",`${a}`),A(this,S).appendChild(d)}}},dt=function(i,t){const{matrix:e}=t;for(let r=0;r<e.length;r++)if(e[r][i]>0)return!1;return!0};const D=[{name:"Cmaj7",nutLineWidth:10,nameTextColor:"#f30",nutColor:"#f30",fingerCircleColor:"#f30",stringColor:"#078",fretsColor:"#f88",matrix:[[0,0,0,0,1,0],[0,0,2,0,0,0],[3,4,0,0,0,0]]},{name:"Dm",nutLineWidth:10,fingerNumberTextColor:"#f30",matrix:[[0,0,0,0,0,1],[0,0,0,2,0,0],[0,0,0,0,3,0]]},{name:"Em",fretsLineWidth:8,matrix:[[0,0,0,0,0,0],[0,2,3,0,0,0],[0,0,0,0,0,0]]},{name:"F",stringLineWidth:12,fingerCircleColor:"#f30",matrix:[[1,1,0,0,0,1],[0,0,0,2,0,0],[0,3,4,0,0,0]]},{name:"G",matrix:[[0,0,0,0,0,0],[0,2,0,0,0,0],[3,0,0,0,0,4]]},{name:"Am",matrix:[[0,0,0,0,1,0],[0,0,2,3,0,0],[0,0,0,0,0,0]],notesOutsideOfChords:{6:!0},showNotesOutsideOfChords:!0},{name:"G7",matrix:[[0,0,0,0,0,1],[0,2,0,0,0,0],[3,0,0,0,0,0]]},{name:"C3",startFrets:3,startFretsTextColor:"#f30",nutLineWidth:10,matrix:[[1,1,0,0,0,1],[0,0,0,0,0,0],[0,0,2,3,4,0]]},{name:"F",transpose:1,startFrets:2,matrix:[[1,1,0,0,0,1],[0,0,0,2,0,0],[0,3,4,0,0,0]]},{name:"Am",transpose:1,transposeTextColor:"#f30",matrix:[[1,1,0,0,0,1],[0,0,0,0,2,0],[0,0,3,4,0,0]]},{name:"C3",startFrets:2,transpose:-1,startFretsTextColor:"#f30",showFingerNumber:!1,mergeFingerCircle:!0,matrix:[[1,1,0,0,0,1],[0,0,0,0,0,0],[0,0,2,3,4,0]]},{name:"C3",startFrets:3,startFretsTextColor:"#f30",nutLineWidth:10,mergeFingerCircle:!0,matrix:[[1,1,0,0,0,1],[0,0,0,0,0,0],[0,0,3,3,3,0]]},{name:"Fmaj7",startFrets:5,startFretsTextColor:"#f30",nutLineWidth:10,mergeFingerCircle:!0,matrix:[[0,0,0,1,1,1],[0,0,2,0,0,0],[0,3,0,0,0,0]]}],M=document.getElementById("app"),ft=document.createElement("h1");ft.textContent="Canvas";M.append(ft);M.append(...D.map(i=>new V(i).element));const X=new V({...D[0],autoRender:!1});console.log(X.data);M.append(X.element);X.render({name:"C",transpose:1,matrix:[[1,1,0,1,1,1],[0,0,0,0,2,0],[0,0,3,0,0,0],[0,4,0,0,0,0]]});const mt=document.createElement("h1");mt.textContent="SVG";M.append(mt);M.append(...D.map(i=>new xt(i).element));const Y=new V({...D[0],autoRender:!1});console.log(Y.data);M.append(Y.element);Y.render({name:"C",transpose:1,matrix:[[1,1,0,1,1,1],[0,0,0,0,2,0],[0,0,3,0,0,0],[0,4,0,0,0,0]]});
